(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{3454:function(a,b,c){"use strict";var d,e;a.exports=(null==(d=c.g.process)?void 0:d.env)&&"object"==typeof(null==(e=c.g.process)?void 0:e.env)?c.g.process:c(7663)},6840:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return c(1529)}])},90:function(a,b,c){"use strict";c.d(b,{hi:function(){return T},v:function(){return v},yN:function(){return G},Wx:function(){return H},SH:function(){return F},WL:function(){return x},GH:function(){return V},gr:function(){return U},bW:function(){return z},ho:function(){return R},IT:function(){return I},CR:function(){return E},JN:function(){return t},r8:function(){return u},eF:function(){return L},sk:function(){return P},kG:function(){return B},tg:function(){return K},wW:function(){return J},NN:function(){return C},kX:function(){return X},px:function(){return W},km:function(){return y},ZB:function(){return A},mo:function(){return D}});var d,e,f=c(4924),g=c(6042),h=c(9396),i=c(2362),j=e={rootNotionPageId:"5f6bf54917834c538f8b4c0264582174",rootNotionSpaceId:"e57fa69576c34239932f087196971d29",name:"Shuo Zhou's Homepage",domain:"fernand.tech",author:"Fernand",description:"Quark Lab",twitter:"__AntiEntropy__",github:"Qubit-Fernand",linkedin:"antientropy",instagram:"fernand.qubit",defaultPageIcon:null,defaultPageCover:null,defaultPageCoverPosition:.5,isPreviewImageSupportEnabled:!1,isRedisEnabled:!1,pageUrlOverrides:null,navigationStyle:"custom",navigationLinks:[{title:"Google Scholar",url:"https://scholar.google.com/citations?user=amgAnjYAAAAJ"},{title:"Email",url:"mailto:AntiEntropy@pku.edu.cn"}]},k=c(3454);if(!j)throw Error("Config error: invalid site.config.ts");try{k.env.NEXT_PUBLIC_SITE_CONFIG&&(d=JSON.parse(k.env.NEXT_PUBLIC_SITE_CONFIG))}catch(l){throw console.error('Invalid config "NEXT_PUBLIC_SITE_CONFIG" failed to parse'),l}var m=(0,g.Z)({},j,d);function n(a,b){var c=m[a];if(void 0!==c)return c;if(void 0!==b)return b;throw Error('Config error: missing required site config value "'.concat(a,'"'))}function o(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:k.env,d=c[a];if(void 0!==d)return d;if(void 0!==b)return b;throw Error('Config error: missing required env variable "'.concat(a,'"'))}var p,q=c(3454);if(!(0,i.q5)(n("rootNotionPageId"),{uuid:!1}))throw Error('Config error invalid "rootNotionPageId"');(0,i.q5)(n("rootNotionSpaceId",null),{uuid:!0});var r,s=Y(n("pageUrlOverrides",{})||{},{label:"pageUrlOverrides"});Y(n("pageUrlAdditions",{})||{},{label:"pageUrlAdditions"});var t=(r=s,Object.keys(r).reduce(function(a,b){var c=r[b];return(0,h.Z)((0,g.Z)({},a),(0,f.Z)({},c,b))},{})),u=!1,v=(n("name"),n("author")),w=n("domain"),x=n("description","Notion Blog");n("language","en");var y=n("twitter",null),z=n("github",null),A=n("youtube",null),B=n("linkedin",null),C=n("newsletter",null),D=n("zhihu",null),E=n("instagram",null),F=n("defaultPageIcon",null),G=n("defaultPageCover",null),H=n("defaultPageCoverPosition",.5);n("isPreviewImageSupportEnabled",!1);var I=n("includeNotionIdInUrls",!!u),J=n("navigationStyle","default"),K=n("navigationLinks",null),L=n("isSearchEnabled",!0);n("isRedisEnabled",!1)||o("REDIS_ENABLED",null);var M=o("REDIS_HOST",null),N=o("REDIS_PASSWORD",null),O=o("REDIS_USER","default");o("REDIS_URL","redis://".concat(O,":").concat(N,"@").concat(M)),o("REDIS_NAMESPACE","preview-images");var P=!1,Q=o("PORT","3000"),R=u?"http://localhost:".concat(Q):"https://".concat(w),S="/api",T={searchNotion:"".concat(S,"/search-notion"),getSocialImage:"".concat(S,"/social-image")},U=u?null:q.env.NEXT_PUBLIC_FATHOM_ID,V=U?{excludedDomains:["localhost","localhost:3000"]}:void 0,W=q.env.NEXT_PUBLIC_POSTHOG_ID,X={api_host:"https://app.posthog.com"};function Y(a,b){var c=b.label;return Object.keys(a).reduce(function(b,d){var e=a[d],j=(0,i.q5)(e,{uuid:!1});if(!j)throw Error("Invalid ".concat(c,' page id "').concat(e,'"'));if(!d)throw Error("Missing ".concat(c,' value for page "').concat(e,'"'));if(!d.startsWith("/"))throw Error("Invalid ".concat(c,' value for page "').concat(e,'": value "').concat(d,'" should be a relative URI that starts with "/"'));var k=d.slice(1);return(0,h.Z)((0,g.Z)({},b),(0,f.Z)({},k,j))},{})}},1529:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return b2}});var d,e,f=c(6042),g=c(5893);c(7284),c(5560),c(7604),c(1804),c(4722),c(6766);var h=c(7294),i=function(a){window.__fathomClientQueue=window.__fathomClientQueue||[],window.__fathomClientQueue.push(a)},j=function(){window.__fathomClientQueue=window.__fathomClientQueue||[],window.__fathomClientQueue.forEach(function(a){switch(a.type){case"trackPageview":m(a.opts);return;case"trackGoal":n(a.code,a.cents);return;case"enableTrackingForMe":p();return;case"blockTrackingForMe":o();return;case"setSite":q(a.id);return}}),window.__fathomClientQueue=[]},k=function(a){var b=/(https?)(?=:|\/|$)/;a.forEach(function(a){null!==b.exec(a)&&console.warn("The include domain ".concat(a," might fail to work as intended as it begins with a transfer protocol (http://, https://). Consider removing the protocol portion of the string."))})},l=function(a,b){var c=document.createElement("script"),d=document.getElementsByTagName("script")[0]||document.querySelector("body");c.id="fathom-script",c.async=!0,c.setAttribute("data-site",a),c.src=b&&b.url?b.url:"https://cdn.usefathom.com/script.js",b&&(void 0!==b.auto&&c.setAttribute("data-auto","".concat(b.auto)),void 0!==b.honorDNT&&c.setAttribute("data-honor-dnt","".concat(b.honorDNT)),void 0!==b.canonical&&c.setAttribute("data-canonical","".concat(b.canonical)),b.includedDomains&&(k(b.includedDomains),c.setAttribute("data-included-domains",b.includedDomains.join(","))),b.excludedDomains&&(k(b.excludedDomains),c.setAttribute("data-excluded-domains",b.excludedDomains.join(","))),b.spa&&c.setAttribute("data-spa",b.spa)),c.onload=j,d.parentNode.insertBefore(c,d)},m=function(a){window.fathom?a?window.fathom.trackPageview(a):window.fathom.trackPageview():i({type:"trackPageview",opts:a})},n=function(a,b){window.fathom?window.fathom.trackGoal(a,b):i({type:"trackGoal",code:a,cents:b})},o=function(){window.fathom?window.fathom.blockTrackingForMe():i({type:"blockTrackingForMe"})},p=function(){window.fathom?window.fathom.enableTrackingForMe():i({type:"enableTrackingForMe"})},q=function(a){window.fathom?window.fathom.setSite(a):i({type:"setSite",id:a})},r=c(1163);function s(a){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function t(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function u(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function v(a,b,c){return b&&u(a.prototype,b),c&&u(a,c),a}function w(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function x(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function y(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?x(Object(c),!0).forEach(function(b){w(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):x(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function z(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&B(a,b)}function A(a){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function B(a,b){return(B=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function C(a){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}();return function(){var c,d,e,f=A(a);if(b){var g=A(this).constructor;e=Reflect.construct(f,arguments,g)}else e=f.apply(this,arguments);return c=this,(d=e)&&("object"==typeof d||"function"==typeof d)?d:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(c)}}function D(a,b){return E(a)||F(a,b)||G(a,b)||I()}function E(a){if(Array.isArray(a))return a}function F(a,b){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{d||null==h.return||h.return()}finally{if(e)throw f}}return c}}function G(a,b){if(a){if("string"==typeof a)return H(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return H(a,b)}}function H(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function I(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function J(a,b){if("undefined"==typeof Symbol||null==a[Symbol.iterator]){if(Array.isArray(a)||(e=G(a))||b&&a&&"number"==typeof a.length){e&&(a=e);var c=0,d=function(){};return{s:d,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(a){throw a},f:d}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,f,g=!0,h=!1;return{s:function(){e=a[Symbol.iterator]()},n:function(){var a=e.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==e.return||e.return()}finally{if(h)throw f}}}}var K=String.fromCharCode,L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",N={};function O(a,b){if(!N[a]){N[a]={};for(var c=0;c<a.length;c++)N[a][a.charAt(c)]=c}return N[a][b]}var P={compressToBase64:function(a){if(null==a)return"";var b=P._compress(a,6,function(a){return L.charAt(a)});switch(b.length%4){default:case 0:return b;case 1:return b+"===";case 2:return b+"==";case 3:return b+"="}},decompressFromBase64:function(a){return null==a?"":""==a?null:P._decompress(a.length,32,function(b){return O(L,a.charAt(b))})},compressToUTF16:function(a){return null==a?"":P._compress(a,15,function(a){return K(a+32)})+" "},decompressFromUTF16:function(a){return null==a?"":""==a?null:P._decompress(a.length,16384,function(b){return a.charCodeAt(b)-32})},compressToUint8Array:function(a){for(var b=P.compress(a),c=new Uint8Array(2*b.length),d=0,e=b.length;d<e;d++){var f=b.charCodeAt(d);c[2*d]=f>>>8,c[2*d+1]=f%256}return c},decompressFromUint8Array:function(a){if(null==a)return P.decompress(a);for(var b=Array(a.length/2),c=0,d=b.length;c<d;c++)b[c]=256*a[2*c]+a[2*c+1];var e=[];return b.forEach(function(a){e.push(K(a))}),P.decompress(e.join(""))},compressToEncodedURIComponent:function(a){return null==a?"":P._compress(a,6,function(a){return M.charAt(a)})},decompressFromEncodedURIComponent:function(a){return null==a?"":""==a?null:(a=a.replace(/ /g,"+"),P._decompress(a.length,32,function(b){return O(M,a.charAt(b))}))},compress:function(a){return P._compress(a,16,function(a){return K(a)})},_compress:function(a,b,c){if(null==a)return"";var d,e,f,g={},h={},i="",j="",k="",l=2,m=3,n=2,o=[],p=0,q=0;for(f=0;f<a.length;f+=1)if(i=a.charAt(f),Object.prototype.hasOwnProperty.call(g,i)||(g[i]=m++,h[i]=!0),j=k+i,Object.prototype.hasOwnProperty.call(g,j))k=j;else{if(Object.prototype.hasOwnProperty.call(h,k)){if(256>k.charCodeAt(0)){for(d=0;d<n;d++)p<<=1,q==b-1?(q=0,o.push(c(p)),p=0):q++;for(d=0,e=k.charCodeAt(0);d<8;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}else{for(d=0,e=1;d<n;d++)p=p<<1|e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e=0;for(d=0,e=k.charCodeAt(0);d<16;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}0== --l&&(l=Math.pow(2,n),n++),delete h[k]}else for(d=0,e=g[k];d<n;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1;0== --l&&(l=Math.pow(2,n),n++),g[j]=m++,k=String(i)}if(""!==k){if(Object.prototype.hasOwnProperty.call(h,k)){if(256>k.charCodeAt(0)){for(d=0;d<n;d++)p<<=1,q==b-1?(q=0,o.push(c(p)),p=0):q++;for(d=0,e=k.charCodeAt(0);d<8;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}else{for(d=0,e=1;d<n;d++)p=p<<1|e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e=0;for(d=0,e=k.charCodeAt(0);d<16;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}0== --l&&(l=Math.pow(2,n),n++),delete h[k]}else for(d=0,e=g[k];d<n;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1;0== --l&&(l=Math.pow(2,n),n++)}for(d=0,e=2;d<n;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1;for(;;){if(p<<=1,q==b-1){o.push(c(p));break}q++}return o.join("")},decompress:function(a){return null==a?"":""==a?null:P._decompress(a.length,32768,function(b){return a.charCodeAt(b)})},_decompress:function(a,b,c){var d,e,f,g,h,i,j,k=[],l=4,m=4,n=3,o="",p=[],q={val:c(0),position:b,index:1};for(d=0;d<3;d+=1)k[d]=d;for(f=0,h=4,i=1;i!=h;)g=q.val&q.position,q.position>>=1,0==q.position&&(q.position=b,q.val=c(q.index++)),f|=(g>0?1:0)*i,i<<=1;switch(f){case 0:for(f=0,h=256,i=1;i!=h;)g=q.val&q.position,q.position>>=1,0==q.position&&(q.position=b,q.val=c(q.index++)),f|=(g>0?1:0)*i,i<<=1;j=K(f);break;case 1:for(f=0,h=65536,i=1;i!=h;)g=q.val&q.position,q.position>>=1,0==q.position&&(q.position=b,q.val=c(q.index++)),f|=(g>0?1:0)*i,i<<=1;j=K(f);break;case 2:return""}for(k[3]=j,e=j,p.push(j);;){if(q.index>a)return"";for(f=0,h=Math.pow(2,n),i=1;i!=h;)g=q.val&q.position,q.position>>=1,0==q.position&&(q.position=b,q.val=c(q.index++)),f|=(g>0?1:0)*i,i<<=1;switch(j=f){case 0:for(f=0,h=256,i=1;i!=h;)g=q.val&q.position,q.position>>=1,0==q.position&&(q.position=b,q.val=c(q.index++)),f|=(g>0?1:0)*i,i<<=1;k[m++]=K(f),j=m-1,l--;break;case 1:for(f=0,h=65536,i=1;i!=h;)g=q.val&q.position,q.position>>=1,0==q.position&&(q.position=b,q.val=c(q.index++)),f|=(g>0?1:0)*i,i<<=1;k[m++]=K(f),j=m-1,l--;break;case 2:return p.join("")}if(0==l&&(l=Math.pow(2,n),n++),k[j])o=k[j];else{if(j!==m)return null;o=e+e.charAt(0)}p.push(o),k[m++]=e+o.charAt(0),l--,e=o,0==l&&(l=Math.pow(2,n),n++)}}},Q={DEBUG:!1,LIB_VERSION:"1.20.2"},R=Array.prototype,S=Function.prototype,T=Object.prototype,U=R.slice,V=T.toString,W=T.hasOwnProperty,X="undefined"!=typeof window?window:{},Y=X.navigator||{userAgent:""},Z=X.document||{},$=Y.userAgent,_=S.bind,aa=R.forEach,ab=R.indexOf,ac=Array.isArray,ad={},ae={trim:function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},af={log:function(){if(Q.DEBUG&&!ae.isUndefined(window.console)&&window.console){var a=window.console.log["__rrweb_original__"]?window.console.log["__rrweb_original__"]:window.console.log;try{a.apply(window.console,arguments)}catch(b){ae.each(arguments,function(b){a(b)})}}},error:function(){if(Q.DEBUG&&!ae.isUndefined(window.console)&&window.console){var a=["PostHog error:"].concat(Array.prototype.slice.call(arguments)),b=window.console.error["__rrweb_original__"]?window.console.error["__rrweb_original__"]:window.console.error;try{b.apply(window.console,a)}catch(c){ae.each(a,function(a){b(a)})}}},critical:function(){if(!ae.isUndefined(window.console)&&window.console){var a=["PostHog error:"].concat(Array.prototype.slice.call(arguments)),b=window.console.error["__rrweb_original__"]?window.console.error["__rrweb_original__"]:window.console.error;try{b.apply(window.console,a)}catch(c){ae.each(a,function(a){b(a)})}}}};ae.bind=function(a,b){var c,d;if(_&&a.bind===_)return _.apply(a,U.call(arguments,1));if(!ae.isFunction(a))throw TypeError();return c=U.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(U.call(arguments)));var e={};e.prototype=a.prototype;var f=new e;e.prototype=null;var g=a.apply(f,c.concat(U.call(arguments)));return Object(g)===g?g:f}},ae.bind_instance_methods=function(a){for(var b in a)"function"==typeof a[b]&&(a[b]=ae.bind(a[b],a))},ae.each=function(a,b,c){if(null!=a){if(aa&&a.forEach===aa)a.forEach(b,c);else if(a.length=== +a.length){for(var d=0,e=a.length;d<e;d++)if(d in a&&b.call(c,a[d],d,a)===ad)return}else for(var f in a)if(W.call(a,f)&&b.call(c,a[f],f,a)===ad)return}},ae.extend=function(a){return ae.each(U.call(arguments,1),function(b){for(var c in b)void 0!==b[c]&&(a[c]=b[c])}),a},ae.isArray=ac||function(a){return"[object Array]"===V.call(a)},ae.isFunction=function(a){try{return/^\s*\bfunction\b/.test(a)}catch(b){return!1}},ae.include=function(a,b){var c=!1;return null===a?c:ab&&a.indexOf===ab?-1!=a.indexOf(b):(ae.each(a,function(a){if(c||(c=a===b))return ad}),c)},ae.includes=function(a,b){return -1!==a.indexOf(b)},ae.isObject=function(a){return a===Object(a)&&!ae.isArray(a)},ae.isEmptyObject=function(a){if(ae.isObject(a)){for(var b in a)if(W.call(a,b))return!1;return!0}return!1},ae.isUndefined=function(a){return void 0===a},ae.isString=function(a){return"[object String]"==V.call(a)},ae.isDate=function(a){return"[object Date]"==V.call(a)},ae.isNumber=function(a){return"[object Number]"==V.call(a)},ae.encodeDates=function(a){return ae.each(a,function(b,c){ae.isDate(b)?a[c]=ae.formatDate(b):ae.isObject(b)&&(a[c]=ae.encodeDates(b))}),a},ae.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},ae.formatDate=function(a){function b(a){return a<10?"0"+a:a}return a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())},ae.safewrap=function(a){return function(){try{return a.apply(this,arguments)}catch(b){af.critical("Implementation error. Please turn on debug and contact support@posthog.com."),Q.DEBUG&&af.critical(b)}}},ae.safewrap_class=function(a,b){for(var c=0;c<b.length;c++)a.prototype[b[c]]=ae.safewrap(a.prototype[b[c]])},ae.safewrap_instance_methods=function(a){for(var b in a)"function"==typeof a[b]&&(a[b]=ae.safewrap(a[b]))},ae.strip_empty_properties=function(a){var b={};return ae.each(a,function(a,c){ae.isString(a)&&a.length>0&&(b[c]=a)}),b};var ag="undefined"!=typeof Symbol?Symbol("__deepCircularCopyInProgress__"):"__deepCircularCopyInProgress__";function ah(a,b,c){var d;return a!==Object(a)?b?b(a,c):a:a[ag]?void 0:(a[ag]=!0,ae.isArray(a)?(d=[],ae.each(a,function(a){d.push(ah(a,b))})):(d={},ae.each(a,function(a,c){c!==ag&&(d[c]=ah(a,b,c))})),delete a[ag],d)}var ai,aj,ak=["$performance_raw"];function al(a){switch(s(a.className)){case"string":return a.className;case"object":return a.className.baseVal||a.getAttribute("class")||"";default:return""}}function am(a){var b="";return ar(a)&&!as(a)&&a.childNodes&&a.childNodes.length&&ae.each(a.childNodes,function(a){ap(a)&&a.textContent&&(b+=ae.trim(a.textContent).split(/(\s+)/).filter(at).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),ae.trim(b)}function an(a){return a&&1===a.nodeType}function ao(a,b){return a&&a.tagName&&a.tagName.toLowerCase()===b.toLowerCase()}function ap(a){return a&&3===a.nodeType}ae.copyAndTruncateStrings=function(a,b){return ah(a,function(a,c){return c&&ak.indexOf(c)> -1||"string"==typeof a&&null!==b&&(a=a.slice(0,b)),a})},ae.base64Encode=function(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,l=0,m="",n=[];if(!a)return a;a=ae.utf8Encode(a);do b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),i=b<<16|c<<8|d,e=i>>18&63,f=i>>12&63,g=i>>6&63,h=63&i,n[l++]=j.charAt(e)+j.charAt(f)+j.charAt(g)+j.charAt(h);while(k<a.length)switch(m=n.join(""),a.length%3){case 1:m=m.slice(0,-2)+"==";break;case 2:m=m.slice(0,-1)+"="}return m},ae.utf8Encode=function(a){a=(a+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var b,c,d,e="",f=0;for(d=0,b=c=0,f=a.length;d<f;d++){var g=a.charCodeAt(d),h=null;g<128?c++:h=g>127&&g<2048?String.fromCharCode(g>>6|192,63&g|128):String.fromCharCode(g>>12|224,g>>6&63|128,63&g|128),null!==h&&(c>b&&(e+=a.substring(b,c)),e+=h,b=c=d+1)}return c>b&&(e+=a.substring(b,a.length)),e},ae.UUID=(ai=function(){for(var a=1*new Date,b=0;a==1*new Date;)b++;return a.toString(16)+b.toString(16)},aj=function(){var a,b,c=$,d=[],e=0;function f(a,b){var c,e=0;for(c=0;c<b.length;c++)e|=d[c]<<8*c;return a^e}for(a=0;a<c.length;a++)b=c.charCodeAt(a),d.unshift(255&b),d.length>=4&&(e=f(e,d),d=[]);return d.length>0&&(e=f(e,d)),e.toString(16)},function(){var a=(window.screen.height*window.screen.width).toString(16);return ai()+"-"+Math.random().toString(16).replace(".","")+"-"+aj()+"-"+a+"-"+ai()}),ae.isBlockedUA=function(a){return!!/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp|ahrefsbot)/i.test(a)},ae.HTTPBuildQuery=function(a,b){var c,d,e=[];return ae.isUndefined(b)&&(b="&"),ae.each(a,function(a,b){c=encodeURIComponent(a.toString()),d=encodeURIComponent(b),e[e.length]=d+"="+c}),e.join(b)},ae.getQueryParam=function(a,b){var c=RegExp("[\\?&]"+(b=b.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)").exec(a);if(null===c||c&&"string"!=typeof c[1]&&c[1].length)return"";var d=c[1];try{d=decodeURIComponent(d)}catch(e){af.error("Skipping decoding for malformed query param: "+d)}return d.replace(/\+/g," ")},ae.getHashParam=function(a,b){var c=a.match(RegExp(b+"=([^&]*)"));return c?c[1]:null},ae.register_event=function(){var a=function(a,c,d,e,f){if(!a){af.error("No valid element provided to register_event");return}if(a.addEventListener&&!e)a.addEventListener(c,d,!!f);else{var g="on"+c,h=a[g];a[g]=b(a,d,h)}};function b(a,b,d){return function(e){if(e=e||c(window.event)){var f,g,h=!0;return ae.isFunction(d)&&(f=d(e)),g=b.call(a,e),(!1===f|| !1===g)&&(h=!1),h}}}function c(a){return a&&(a.preventDefault=c.preventDefault,a.stopPropagation=c.stopPropagation),a}return c.preventDefault=function(){this.returnValue=!1},c.stopPropagation=function(){this.cancelBubble=!0},a}(),ae.info={campaignParams:function(){var a="utm_source utm_medium utm_campaign utm_content utm_term gclid".split(" "),b="",c={};return ae.each(a,function(a){(b=ae.getQueryParam(Z.URL,a)).length&&(c[a]=b)}),c},searchEngine:function(a){return 0===a.search("https?://(.*)google.([^/?]*)")?"google":0===a.search("https?://(.*)bing.com")?"bing":0===a.search("https?://(.*)yahoo.com")?"yahoo":0===a.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(a){var b=ae.info.searchEngine(a),c={};if(null!==b){c["$search_engine"]=b;var d=ae.getQueryParam(a,"yahoo"!=b?"q":"p");d.length&&(c.ph_keyword=d)}return c},browser:function(a,b,c){if(b=b||"",c||ae.includes(a," OPR/"))return ae.includes(a,"Mini")?"Opera Mini":"Opera";if(/(BlackBerry|PlayBook|BB10)/i.test(a))return"BlackBerry";if(ae.includes(a,"IEMobile")||ae.includes(a,"WPDesktop"))return"Internet Explorer Mobile";if(ae.includes(a,"SamsungBrowser/"))return"Samsung Internet";if(ae.includes(a,"Edge")||ae.includes(a,"Edg/"))return"Microsoft Edge";else if(ae.includes(a,"FBIOS"))return"Facebook Mobile";else if(ae.includes(a,"Chrome"))return"Chrome";else if(ae.includes(a,"CriOS"))return"Chrome iOS";else if(ae.includes(a,"UCWEB")||ae.includes(a,"UCBrowser"))return"UC Browser";else if(ae.includes(a,"FxiOS"))return"Firefox iOS";else if(ae.includes(b,"Apple"))return ae.includes(a,"Mobile")?"Mobile Safari":"Safari";else if(ae.includes(a,"Android"))return"Android Mobile";else if(ae.includes(a,"Konqueror"))return"Konqueror";else if(ae.includes(a,"Firefox"))return"Firefox";else if(ae.includes(a,"MSIE")||ae.includes(a,"Trident/"))return"Internet Explorer";else if(ae.includes(a,"Gecko"))return"Mozilla";else return""},browserVersion:function(a,b,c){var d,e={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[ae.info.browser(a,b,c)];if(void 0===e)return null;var f=a.match(e);return f?parseFloat(f[f.length-2]):null},os:function(){var a=$;if(/Windows/i.test(a))return/Phone/.test(a)||/WPDesktop/.test(a)?"Windows Phone":"Windows";if(/(iPhone|iPad|iPod)/.test(a))return"iOS";if(/Android/.test(a))return"Android";if(/(BlackBerry|PlayBook|BB10)/i.test(a))return"BlackBerry";if(/Mac/i.test(a))return"Mac OS X";else if(/Linux/.test(a))return"Linux";else if(/CrOS/.test(a))return"Chrome OS";else return""},device:function(a){if(/Windows Phone/i.test(a)||/WPDesktop/.test(a))return"Windows Phone";if(/iPad/.test(a))return"iPad";if(/iPod/.test(a))return"iPod Touch";if(/iPhone/.test(a))return"iPhone";if(/(BlackBerry|PlayBook|BB10)/i.test(a))return"BlackBerry";else if(/Android/.test(a)&&!/Mobile/.test(a))return"Android Tablet";else if(/Android/.test(a))return"Android";else return""},deviceType:function(a){var b=this.device(a);return"iPad"===b||"Android Tablet"===b?"Tablet":b?"Mobile":"Desktop"},referringDomain:function(a){var b=a.split("/");return b.length>=3?b[2]:""},properties:function(){return ae.extend(ae.strip_empty_properties({$os:ae.info.os(),$browser:ae.info.browser($,Y.vendor,window.opera),$device:ae.info.device($),$device_type:ae.info.deviceType($)}),{$current_url:window.location.href,$host:window.location.host,$pathname:window.location.pathname,$browser_version:ae.info.browserVersion($,Y.vendor,window.opera),$screen_height:window.screen.height,$screen_width:window.screen.width,$viewport_height:window.innerHeight,$viewport_width:window.innerWidth,$lib:"web",$lib_version:Q.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:ae.timestamp()/1e3})},people_properties:function(){return ae.extend(ae.strip_empty_properties({$os:ae.info.os(),$browser:ae.info.browser($,Y.vendor,window.opera)}),{$browser_version:ae.info.browserVersion($,Y.vendor,window.opera)})}},ae.isObject=ae.isObject,ae.isBlockedUA=ae.isBlockedUA,ae.isEmptyObject=ae.isEmptyObject,ae.info=ae.info,ae.info.device=ae.info.device,ae.info.browser=ae.info.browser,ae.info.browserVersion=ae.info.browserVersion,ae.info.properties=ae.info.properties;var aq=["a","button","form","input","select","textarea","label"];function ar(a){for(var b=a;b.parentNode&&!ao(b,"body");b=b.parentNode){var c=al(b).split(" ");if(ae.includes(c,"ph-sensitive")||ae.includes(c,"ph-no-capture"))return!1}if(ae.includes(al(a).split(" "),"ph-include"))return!0;var d=a.type||"";if("string"==typeof d)switch(d.toLowerCase()){case"hidden":case"password":return!1}var e=a.name||a.id||"";return!("string"==typeof e&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(e.replace(/[^a-zA-Z0-9]/g,"")))}function as(a){return!!(ao(a,"input")&&!["button","checkbox","submit","reset"].includes(a.type)||ao(a,"select")||ao(a,"textarea"))||"true"===a.getAttribute("contenteditable")}function at(a){return!(null===a||ae.isUndefined(a)||"string"==typeof a&&(a=ae.trim(a),/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((a||"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(a)))}function au(a,b){var c=document.createElement("script");c.type="text/javascript",c.src=a,c.onload=b;var d=document.getElementsByTagName("script");d.length>0?d[0].parentNode.insertBefore(c,d[0]):document.body.appendChild(c)}var av=function(){function a(b){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:b.get_config("rageclick");t(this,a),this.clicks=[],this.instance=b,this.enabled=c}return v(a,[{key:"click",value:function(a,b,c){if(this.enabled){var d=this.clicks[this.clicks.length-1];d&&Math.abs(a-d.x)+Math.abs(b-d.y)<30&&c-d.timestamp<1e3?(this.clicks.push({x:a,y:b,timestamp:c}),3===this.clicks.length&&this.instance.capture("$rageclick")):this.clicks=[{x:a,y:b,timestamp:c}]}}}]),a}(),aw={_initializedTokens:[],_previousElementSibling:function(a){if(a.previousElementSibling)return a.previousElementSibling;do a=a.previousSibling;while(a&&!an(a))return a},_getPropertiesFromElement:function(a,b,c){var d=a.tagName.toLowerCase(),e={tag_name:d};aq.indexOf(d)> -1&&!c&&(e["$el_text"]=am(a));var f=al(a);f.length>0&&(e.classes=f.split(" ").filter(function(a){return""!==a})),ae.each(a.attributes,function(c){if(!as(a)|| -1!==["name","id","class"].indexOf(c.name)){var d;!b&&at(c.value)&&("string"!=typeof(d=c.name)||"_ngcontent"!==d.substring(0,10)&&"_nghost"!==d.substring(0,7))&&(e["attr__"+c.name]=c.value)}});for(var g=1,h=1,i=a;i=this._previousElementSibling(i);)g++,i.tagName===a.tagName&&h++;return e.nth_child=g,e.nth_of_type=h,e},_getDefaultProperties:function(a){return{$event_type:a,$ce_version:1}},_extractCustomPropertyValue:function(a){var b=[];return ae.each(document.querySelectorAll(a.css_selector),function(a){var c;["input","select"].indexOf(a.tagName.toLowerCase())> -1?c=a.value:a.textContent&&(c=a.textContent),at(c)&&b.push(c)}),b.join(", ")},_getCustomProperties:function(a){var b={};return ae.each(this._customProperties,function(c){ae.each(c.event_selectors,function(d){var e=document.querySelectorAll(d);ae.each(e,function(d){ae.includes(a,d)&&ar(d)&&(b[c.name]=this._extractCustomPropertyValue(c))},this)},this)},this),b},_getEventTarget:function(a){return void 0===a.target?a.srcElement:a.target.shadowRoot?a.composedPath()[0]:a.target},_captureEvent:function(a,b){var c=this._getEventTarget(a);if(ap(c)&&(c=c.parentNode),"click"===a.type&&this.rageclicks.click(a.clientX,a.clientY,new Date().getTime()),function(a,b){if(!a||ao(a,"html")||!an(a))return!1;for(var c=!1,d=[a],e=!0,f=a;f.parentNode&&!ao(f,"body");){if(11===f.parentNode.nodeType){d.push(f.parentNode.host),f=f.parentNode.host;continue}if(!(e=f.parentNode))break;if(aq.indexOf(e.tagName.toLowerCase())> -1)c=!0;else{var g=window.getComputedStyle(e);g&&"pointer"===g.getPropertyValue("cursor")&&(c=!0)}d.push(e),f=e}var h=window.getComputedStyle(a);if(h&&"pointer"===h.getPropertyValue("cursor")&&"click"===b.type)return!0;var i=a.tagName.toLowerCase();switch(i){case"html":return!1;case"form":return"submit"===b.type;case"input":case"select":case"textarea":return"change"===b.type||"click"===b.type;default:if(c)return"click"===b.type;return"click"===b.type&&(aq.indexOf(i)> -1||"true"===a.getAttribute("contenteditable"))}}(c,a)){for(var d=[c],e=c;e.parentNode&&!ao(e,"body");){if(11===e.parentNode.nodeType){d.push(e.parentNode.host),e=e.parentNode.host;continue}d.push(e.parentNode),e=e.parentNode}var f,g=[],h=!1;if(ae.each(d,function(a){var c=ar(a);"a"===a.tagName.toLowerCase()&&(f=a.getAttribute("href"),f=c&&at(f)&&f);var d=al(a).split(" ");ae.includes(d,"ph-no-capture")&&(h=!0),g.push(this._getPropertiesFromElement(a,b.get_config("mask_all_element_attributes"),b.get_config("mask_all_text")))},this),b.get_config("mask_all_text")||(g[0]["$el_text"]=am(c)),f&&(g[0].attr__href=f),h)return!1;var i=ae.extend(this._getDefaultProperties(a.type),{$elements:g},this._getCustomProperties(d));return b.capture("$autocapture",i),!0}},_navigate:function(a){window.location.href=a},_addDomEventHandlers:function(a){var b=ae.bind(function(b){b=b||window.event,this._captureEvent(b,a)},this);ae.register_event(document,"submit",b,!1,!0),ae.register_event(document,"change",b,!1,!0),ae.register_event(document,"click",b,!1,!0)},_customProperties:{},init:function(a){this.rageclicks=new av(a)},afterDecideResponse:function(a,b){var c=b.get_config("token");if(this._initializedTokens.indexOf(c)> -1){af.log('autocapture already initialized for token "'+c+'"');return}this._initializedTokens.push(c),a&&a.config&& !0===a.config.enable_collect_everything&&b.get_config("autocapture")?(a.custom_properties&&(this._customProperties=a.custom_properties),this._addDomEventHandlers(b)):b["__autocapture_enabled"]=!1},enabledForProject:function(a,b,c){b=ae.isUndefined(b)?10:b,c=ae.isUndefined(c)?10:c;for(var d=0,e=0;e<a.length;e++)d+=a.charCodeAt(e);return d%b<c},isBrowserSupported:function(){return ae.isFunction(document.querySelectorAll)}};ae.bind_instance_methods(aw),ae.safewrap_instance_methods(aw);var ax=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,ay={get:function(a){try{for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return decodeURIComponent(e.substring(b.length,e.length))}}catch(f){}return null},parse:function(a){var b;try{b=JSON.parse(ay.get(a))||{}}catch(c){}return b},set:function(a,b,c,d,e){try{var f="",g="",h="";if(d){var i=document.location.hostname.match(ax),j=i?i[0]:"";f=j?"; domain=."+j:""}if(c){var k=new Date;k.setTime(k.getTime()+864e5*c),g="; expires="+k.toGMTString()}e&&(h="; secure");var l=a+"="+encodeURIComponent(JSON.stringify(b))+g+"; path=/"+f+h;return document.cookie=l,l}catch(m){return}},remove:function(a,b){try{ay.set(a,"",-1,b)}catch(c){return}}},az=null,aA={is_supported:function(){if(null!==az)return az;var a=!0;if(window)try{var b="__mplssupport__",c="xyz";aA.set(b,c),'"xyz"'!==aA.get(b)&&(a=!1),aA.remove(b)}catch(d){a=!1}else a=!1;return a||af.error("localStorage unsupported; falling back to cookie store"),az=a,a},error:function(a){af.error("localStorage error: "+a)},get:function(a){try{return window.localStorage.getItem(a)}catch(b){aA.error(b)}return null},parse:function(a){try{return JSON.parse(aA.get(a))||{}}catch(b){}return null},set:function(a,b){try{window.localStorage.setItem(a,JSON.stringify(b))}catch(c){aA.error(c)}},remove:function(a){try{window.localStorage.removeItem(a)}catch(b){aA.error(b)}}},aB=y(y({},aA),{},{parse:function(a){try{var b={};try{(b=ay.parse(a)||{}).distinct_id&&ay.set(a,{distinct_id:b.distinct_id})}catch(c){}var d=ae.extend(b,JSON.parse(aA.get(a)||"{}"));return aA.set(a,d),d}catch(e){}return null},set:function(a,b){try{aA.set(a,b),b.distinct_id&&ay.set(a,{distinct_id:b.distinct_id})}catch(c){aA.error(c)}},remove:function(a){try{window.localStorage.removeItem(a),ay.remove(a)}catch(b){aA.error(b)}}}),aC={},aD={is_supported:function(){return!0},error:function(a){af.error("memoryStorage error: "+a)},parse:function(a){return aC[a]||null},set:function(a,b){aC[a]=b},remove:function(a){delete aC[a]}},aE={sessionStorageSupported:null,is_supported:function(){if(null!==aE.sessionStorageSupported)return aE.sessionStorageSupported;if(aE.sessionStorageSupported=!0,window)try{var a="__support__",b="xyz";aE.set(a,b),'"xyz"'!==aE.get(a)&&(aE.sessionStorageSupported=!1),aE.remove(a)}catch(c){aE.sessionStorageSupported=!1}else aE.sessionStorageSupported=!1;return aE.sessionStorageSupported},error:function(a){Config.DEBUG&&af.error("sessionStorage error: ",a)},get:function(a){try{return window.sessionStorage.getItem(a)}catch(b){aE.error(b)}return null},parse:function(a){try{return JSON.parse(aE.get(a))||null}catch(b){}return null},set:function(a,b){try{window.sessionStorage.setItem(a,JSON.stringify(b))}catch(c){aE.error(c)}},remove:function(a){try{window.sessionStorage.removeItem(a)}catch(b){aE.error(b)}}};function aF(a,b){aP(!0,a,b)}function aG(a,b){aP(!1,a,b)}function aH(a,b){return"1"===aN(a,b)}function aI(a,b){return!!aO(b)||"0"===aN(a,b)}function aJ(a,b){return aQ(a,function(a){return this._get_config(a)},b)}function aK(a,b){aL(b=b||{}).remove(aM(a,b),!!b.crossSubdomainCookie,b.cookieDomain)}function aL(a){return"localStorage"===(a=a||{}).persistenceType?aA:"localStorage+cookie"===a.persistenceType?aB:ay}function aM(a,b){return((b=b||{}).persistencePrefix||"__ph_opt_in_out_")+a}function aN(a,b){return aL(b).get(aM(a,b))}function aO(a){if(a&&a.respectDnt){var b=a&&a.window||X,c=b.navigator||{},d=!1;return ae.each([c.doNotTrack,c.msDoNotTrack,b.doNotTrack],function(a){ae.includes([!0,1,"1","yes"],a)&&(d=!0)}),d}return!1}function aP(a,b,c){if(!ae.isString(b)||!b.length){console.error("gdpr."+(a?"optIn":"optOut")+" called with an invalid token");return}aL(c=c||{}).set(aM(b,c),a?1:0,ae.isNumber(c.cookieExpiration)?c.cookieExpiration:null,!!c.crossSubdomainCookie,!!c.secureCookie,!!c.crossSiteCookie,c.cookieDomain),c.capture&&a&&c.capture(c.captureEventName||"$opt_in",c.captureProperties,{send_immediately:!0})}function aQ(a,b,c){return function(){var d=!1;try{var e=b.call(this,"token"),f=b.call(this,"respect_dnt"),g=b.call(this,"opt_out_capturing_persistence_type"),h=b.call(this,"opt_out_capturing_cookie_prefix"),i=b.call(this,"window");e&&(d=aI(e,{respectDnt:f,persistenceType:g,persistencePrefix:h,window:i}))}catch(j){c||console.error("Unexpected error when checking capturing opt-out status: "+j)}if(!d)return a.apply(this,arguments);var k=arguments[arguments.length-1];"function"==typeof k&&k(0)}}var aR="$set",aS=function(){};ae.extend(aS.prototype,{set_action:function(a,b){return this.apiActionParser(aR,a,b)},set_once_action:function(a,b){return this.apiActionParser("$set_once",a,b)},apiActionParser:function(a,b,c){var d={},e={};return ae.isObject(b)?ae.each(b,function(a,b){this._is_reserved_property(b)||(e[b]=a)},this):e[b]=c,d[a]=e,d}}),aS.prototype._init=function(a){this._posthog=a},aS.prototype.set=aJ(function(a,b,c){var d=this.set_action(a,b);return ae.isObject(a)&&(c=b),this._get_config("save_referrer")&&this._posthog.persistence.update_referrer_info(document.referrer),d[aR]=ae.extend({},ae.info.people_properties(),this._posthog.persistence.get_referrer_info(),d[aR]),this._send_request(d,c)}),aS.prototype.set_once=aJ(function(a,b,c){var d=this.set_once_action(a,b);return ae.isObject(a)&&(c=b),this._send_request(d,c)}),aS.prototype.toString=function(){return this._posthog.toString()+".people"},aS.prototype._send_request=function(a,b){a.$token=this._get_config("token"),a["$distinct_id"]=this._posthog.get_distinct_id();var c=this._posthog.get_property("$device_id"),d=this._posthog.get_property("$user_id"),e=this._posthog.get_property("$had_persisted_distinct_id");c&&(a["$device_id"]=c),d&&(a["$user_id"]=d),e&&(a["$had_persisted_distinct_id"]=e);var f=ae.encodeDates(a),g=ae.copyAndTruncateStrings(f,this._get_config("properties_string_max_length")),h=JSON.stringify(f),i=ae.base64Encode(h);return this._posthog._send_request(this._get_config("api_host")+"/engage/",{data:i},{},this._posthog._prepare_callback(b,g)),g},aS.prototype._get_config=function(a){return this._posthog.get_config(a)},aS.prototype._is_reserved_property=function(a){return"$distinct_id"===a||"$token"===a||"$device_id"===a||"$user_id"===a||"$had_persisted_distinct_id"===a},aS.prototype.set=aS.prototype.set,aS.prototype.set_once=aS.prototype.set_once,aS.prototype.toString=aS.prototype.toString;var aT=function(a,b){var c=a.featureFlags;if(c){if(Array.isArray(c)){var d={};if(c)for(var e=0;e<c.length;e++)d[c[e]]=!0;b&&b.register({$active_feature_flags:c,$enabled_feature_flags:d})}else b&&b.register({$active_feature_flags:Object.keys(c||{}),$enabled_feature_flags:c||{}})}else b&&(b.unregister("$active_feature_flags"),b.unregister("$enabled_feature_flags"))},aU=function(){function a(b){t(this,a),this.instance=b,this._override_warning=!1,this.flagCallReported={},this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return v(a,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var a=this.instance.get_property("$enabled_feature_flags"),b=this.instance.get_property("$override_feature_flags");if(!b)return a||{};for(var c=ae.extend({},a),d=Object.keys(b),e=0;e<d.length;e++)!1===b[d[e]]?delete c[d[e]]:c[d[e]]=b[d[e]];return this._override_warning||(console.warn("[PostHog] Overriding feature flags!",{enabledFlags:a,overriddenFlags:b,finalFlags:c}),this._override_warning=!0),c}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setReloadingPaused",value:function(a){this.reloadFeatureFlagsInAction=a}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var a=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!a.reloadFeatureFlagsInAction&&a.reloadFeatureFlagsQueued&&(a.reloadFeatureFlagsQueued=!1,a._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var a=this;this.setReloadingPaused(!0);var b=JSON.stringify({token:this.instance.get_config("token"),distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups()}),c=ae.base64Encode(b);this.instance._send_request(this.instance.get_config("api_host")+"/decide/?v=2",{data:c},{method:"POST"},this.instance._prepare_callback(function(b){a.receivedFeatureFlags(b),a.setReloadingPaused(!1),a._startReloadTimer()}))}},{key:"getFeatureFlag",value:function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};if(!this.getFlags())return console.warn('getFeatureFlag for key "'+a+"\" failed. Feature flags didn't load in time."),!1;var c=this.getFlagVariants()[a];return!b.send_event&&"send_event"in b||this.flagCallReported[a]||(this.flagCallReported[a]=!0,this.instance.capture("$feature_flag_called",{$feature_flag:a,$feature_flag_response:c})),c}},{key:"isFeatureEnabled",value:function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};return this.getFlags()?!!this.getFeatureFlag(a,b):(console.warn('isFeatureEnabled for key "'+a+"\" failed. Feature flags didn't load in time."),!1)}},{key:"addFeatureFlagsHandler",value:function(a){this.featureFlagEventHandlers.push(a)}},{key:"receivedFeatureFlags",value:function(a){aT(a,this.instance.persistence);var b=this.getFlags(),c=this.getFlagVariants();this.featureFlagEventHandlers.forEach(function(a){return a(b,c)})}},{key:"override",value:function(a){if(this._override_warning=!1,!1===a)this.instance.persistence.unregister("$override_feature_flags");else if(Array.isArray(a)){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;this.instance.persistence.register({$override_feature_flags:b})}else this.instance.persistence.register({$override_feature_flags:a})}},{key:"onFeatureFlags",value:function(a){if(this.addFeatureFlagsHandler(a),this.instance.decideEndpointWasHit){var b;a(this.getFlags(),this.getFlagVariants())}}}]),a}(),aV="$people_distinct_id",aW="__alias",aX="__timers",aY="$session_recording_enabled_server_side",aZ="$sesid",a$="$enabled_feature_flags",a_=["__mps","__mpso","__mpus","__mpa","__mpap","__mpr","__mpu",aV,aW,"__cmpns",aX,aY,aZ,a$],a0=function(a){var b="";a.token&&(b=a.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),this.props={},this.campaign_params_saved=!1,a.persistence_name?this.name="ph_"+a.persistence_name:this.name="ph_"+b+"_posthog";var c=a.persistence;"cookie"!==c&& -1===c.indexOf("localStorage")&&"memory"!==c&&(af.critical("Unknown persistence type "+c+"; falling back to cookie"),c=a.persistence="cookie"),"localStorage"===c&&aA.is_supported()?this.storage=aA:"localStorage+cookie"===c&&aB.is_supported()?this.storage=aB:"memory"===c?this.storage=aD:this.storage=ay,this.load(),this.update_config(a),this.save()};a0.prototype.properties=function(){var a={};return ae.each(this.props,function(b,c){if(c===a$&&"object"===s(b))for(var d=Object.keys(b),e=0;e<d.length;e++)a["$feature/".concat(d[e])]=b[d[e]];else ae.include(a_,c)||(a[c]=b)}),a},a0.prototype.load=function(){if(!this.disabled){var a=this.storage.parse(this.name);a&&(this.props=ae.extend({},a))}},a0.prototype.save=function(){!this.disabled&&this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)},a0.prototype.remove=function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)},a0.prototype.clear=function(){this.remove(),this.props={}},a0.prototype.register_once=function(a,b,c){return!!ae.isObject(a)&&(void 0===b&&(b="None"),this.expire_days=void 0===c?this.default_expiry:c,ae.each(a,function(a,c){this.props.hasOwnProperty(c)&&this.props[c]!==b||(this.props[c]=a)},this),this.save(),!0)},a0.prototype.register=function(a,b){return!!ae.isObject(a)&&(this.expire_days=void 0===b?this.default_expiry:b,ae.extend(this.props,a),this.save(),!0)},a0.prototype.unregister=function(a){a in this.props&&(delete this.props[a],this.save())},a0.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register(ae.info.campaignParams()),this.campaign_params_saved=!0)},a0.prototype.update_search_keyword=function(a){this.register(ae.info.searchInfo(a))},a0.prototype.update_referrer_info=function(a){this.register_once({$initial_referrer:a||"$direct",$initial_referring_domain:ae.info.referringDomain(a)||"$direct"},""),this.register({$referrer:a||this.props.$referrer||"$direct",$referring_domain:ae.info.referringDomain(a)||this.props["$referring_domain"]||"$direct"})},a0.prototype.get_referrer_info=function(){return ae.strip_empty_properties({$initial_referrer:this.props["$initial_referrer"],$initial_referring_domain:this.props["$initial_referring_domain"]})},a0.prototype.safe_merge=function(a){return ae.each(this.props,function(b,c){c in a||(a[c]=b)}),a},a0.prototype.update_config=function(a){this.default_expiry=this.expire_days=a.cookie_expiration,this.set_disabled(a.disable_persistence),this.set_cross_subdomain(a.cross_subdomain_cookie),this.set_secure(a.secure_cookie)},a0.prototype.set_disabled=function(a){this.disabled=a,this.disabled?this.remove():this.save()},a0.prototype.set_cross_subdomain=function(a){a!==this.cross_subdomain&&(this.cross_subdomain=a,this.remove(),this.save())},a0.prototype.get_cross_subdomain=function(){return this.cross_subdomain},a0.prototype.set_secure=function(a){a!==this.secure&&(this.secure=!!a,this.remove(),this.save())},a0.prototype.set_event_timer=function(a,b){var c=this.props[aX]||{};c[a]=b,this.props[aX]=c,this.save()},a0.prototype.remove_event_timer=function(a){var b=(this.props[aX]||{})[a];return ae.isUndefined(b)||(delete this.props[aX][a],this.save()),b};var a1=3,a2=3,a3=6,a4=function(){function a(b){t(this,a),this.instance=b,this.captureStarted=!1,this.snapshots=[],this.emit=!1,this.endpoint="/e/",this.stopRrweb=null,this.windowId=null,this.sessionId=null,this.receivedDecide=!1}return v(a,[{key:"startRecordingIfEnabled",value:function(){this.isRecordingEnabled()?this.startCaptureAndTrySendingQueuedSnapshots():this.stopRecording()}},{key:"started",value:function(){return this.captureStarted}},{key:"stopRecording",value:function(){this.captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=null,this.captureStarted=!1)}},{key:"isRecordingEnabled",value:function(){var a=!!this.instance.get_property(aY),b=!this.instance.get_config("disable_session_recording");return a&&b}},{key:"afterDecideResponse",value:function(a){var b,c;this.receivedDecide=!0,this.instance.persistence&&this.instance.persistence.register(w({},aY,!!a.sessionRecording)),null!==(b=a.sessionRecording)&& void 0!==b&&b.endpoint&&(this.endpoint=null===(c=a.sessionRecording)|| void 0===c?void 0:c.endpoint),this.startRecordingIfEnabled()}},{key:"startCaptureAndTrySendingQueuedSnapshots",value:function(){var a=this;this.receivedDecide&&(this.emit=!0,this.snapshots.forEach(function(b){return a._captureSnapshot(b)})),this._startCapture()}},{key:"_startCapture",value:function(){void 0!==Object.assign&&(this.captureStarted||this.instance.get_config("disable_session_recording")||(this.captureStarted=!0,au(this.instance.get_config("api_host")+"/static/recorder.js?v="+Q.LIB_VERSION,ae.bind(this._onScriptLoaded,this))))}},{key:"_updateWindowAndSessionIds",value:function(a){var b=this.instance.sessionManager.getSessionAndWindowId(a.timestamp||new Date().getTime(),a),c=b.windowId,d=b.sessionId;(this.windowId!==c||this.sessionId!==d)&& -1===[2,4].indexOf(a.type)&&this.rrwebRecord.takeFullSnapshot(),this.windowId=c,this.sessionId=d}},{key:"_onScriptLoaded",value:function(){var a=this,b={blockClass:"ph-no-capture",blockSelector:null,ignoreClass:"ph-ignore-input",maskAllInputs:!1,maskInputOptions:{},maskInputFn:null,slimDOMOptions:{},collectFonts:!1};this.rrwebRecord=window.rrweb?window.rrweb.record:window.rrwebRecord;for(var c=this.instance.get_config("session_recording"),d=0,e=Object.entries(c||{});d<e.length;d++){var f=D(e[d],2),g=f[0],h=f[1];g in b&&(b[g]=h)}this.stopRrweb=this.rrwebRecord(y({emit:function(b){b=function(a){if(a&&"object"===s(a)&&a.type===a3&&"object"===s(a.data)&&"rrweb/console@1"===a.data.plugin){a.data.payload.payload.length>10&&(a.data.payload.payload=a.data.payload.payload.slice(0,10),a.data.payload.payload.push("...[truncated]"));for(var b=[],c=0;c<a.data.payload.payload.length;c++)a.data.payload.payload[c].length>2e3?b.push(a.data.payload.payload[c].slice(0,2e3)+"...[truncated]"):b.push(a.data.payload.payload[c]);a.data.payload.payload=b}return a}(function(a){if(a&&"object"===s(a)){var b=JSON.stringify(a);if(b.length>5e6){var c,d=/data:([\w\/\-\.]+);(\w+),([^)"]*)/gim,e=b.matchAll(d),f=J(e);try{for(f.s();!(c=f.n()).done;){var g=c.value;b="image/"===g[1].toLocaleLowerCase().slice(0,6)?b.replace(g[0],"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg=="):b.replace(g[0],"")}}catch(h){f.e(h)}finally{f.f()}}return JSON.parse(b)}return a}(b)),a._updateWindowAndSessionIds(b);var c={$snapshot_data:b,$session_id:a.sessionId,$window_id:a.windowId};a.instance._captureMetrics.incr("rrweb-record"),a.instance._captureMetrics.incr("rrweb-record-".concat(b.type)),a.emit?a._captureSnapshot(c):a.snapshots.push(c)},plugins:window.rrwebConsoleRecord&&this.instance.get_config("enable_recording_console_log")?[window.rrwebConsoleRecord.getRecordConsolePlugin()]:[]},b)),this.instance._addCaptureHook(function(b){"$pageview"===b&&a.rrwebRecord.addCustomEvent("$pageview",{href:window.location.href})})}},{key:"_captureSnapshot",value:function(a){this.instance.capture("$snapshot",a,{transport:"XHR",method:"POST",endpoint:this.endpoint,_forceCompression:!0,_noTruncate:!0,_batchKey:"sessionRecording",_metrics:{rrweb_full_snapshot:2===a.$snapshot_data.type}})}}]),a}(),a5=function(){function a(b){t(this,a),this.instance=b,this.instance.decideEndpointWasHit=!1}return v(a,[{key:"call",value:function(){var a=this,b=JSON.stringify({token:this.instance.get_config("token"),distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups()}),c=ae.base64Encode(b);this.instance._send_request("".concat(this.instance.get_config("api_host"),"/decide/?v=2"),{data:c,verbose:!0},{method:"POST"},function(b){return a.parseDecideResponse(b)})}},{key:"parseDecideResponse",value:function(a){var b=this;if((null==a?void 0:a.status)===0){console.error("Failed to fetch feature flags from PostHog.");return}if(this.instance.decideEndpointWasHit=!0,!(document&&document.body)){console.log("document not ready yet, trying again in 500 milliseconds..."),setTimeout(function(){b.parseDecideResponse(a)},500);return}if(this.instance.toolbar.afterDecideResponse(a),this.instance.sessionRecording.afterDecideResponse(a),aw.afterDecideResponse(a,this.instance),this.instance.featureFlags.receivedFeatureFlags(a),a.supportedCompression){var c,d={},e=J(a.supportedCompression);try{for(e.s();!(c=e.n()).done;)d[c.value]=!0}catch(f){e.e(f)}finally{e.f()}this.instance.compression=d}else this.instance.compression={}}}]),a}(),a6=function(){function a(b){t(this,a),this.instance=b}return v(a,[{key:"afterDecideResponse",value:function(a){var b=a.editorParams||(a.toolbarVersion?{toolbarVersion:a.toolbarVersion}:{});a.isAuthenticated&&b.toolbarVersion&&0===b.toolbarVersion.indexOf("toolbar")&&this._loadEditor(y(y({},b),{},{apiURL:this.instance.get_config("api_host")}))}},{key:"maybeLoadEditor",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:window.location,b=arguments.length>1?arguments[1]:void 0,c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:window.history;try{if(!b){try{window.localStorage.setItem("test","test"),window.localStorage.removeItem("test")}catch(d){return!1}b=window.localStorage}var e,f=ae.getHashParam(a.hash,"__posthog")||ae.getHashParam(a.hash,"state"),g=f?JSON.parse(decodeURIComponent(f)):null;if(g&&("mpeditor"===g.action||"ph_authorize"===g.action)?(e=g)&&Object.keys(e).length>0&&(b.setItem("_postHogEditorParams",JSON.stringify(e)),g.desiredHash?a.hash=g.desiredHash:c?c.replaceState("",document.title,a.pathname+a.search):a.hash=""):delete(e=JSON.parse(b.getItem("_postHogEditorParams")||"{}")).userIntent,e.apiURL=this.instance.get_config("api_host"),e.token&&this.instance.get_config("token")===e.token)return this._loadEditor(e),!0;return!1}catch(h){return!1}}},{key:"_loadEditor",value:function(a){var b=this;if(!window["_postHogToolbarLoaded"]){window["_postHogToolbarLoaded"]=!0;var c=a.jsURL||a.apiURL||this.instance.get_config("api_host"),d="toolbar.js",e=c+(c.endsWith("/")?"":"/")+"static/"+d+"?_ts="+new Date().getTime(),f="https://app.posthog.com"!==this.instance.get_config("api_host")&&this.instance.get_config("advanced_disable_toolbar_metrics");return a=y(y({},a),f?{instrument:!1}:{}),au(e,function(){window.ph_load_editor(a,b.instance)}),ae.register_event(window,"turbolinks:load",function(){window["_postHogToolbarLoaded"]=!1,b._loadEditor(a)}),!0}return!1}}]),a}(),a7=function(){function a(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:3e3;t(this,a),this.isPolling=!0,this._event_queue=[],this._empty_queue_count=0,this._poller=function(){},this._pollInterval=b}return v(a,[{key:"setPollInterval",value:function(a){this._pollInterval=a,this.isPolling&&this.poll()}},{key:"enqueue",value:function(){}},{key:"poll",value:function(){}},{key:"unload",value:function(){}},{key:"getTime",value:function(){return new Date().getTime()}}]),a}(),a8=function(a){z(c,a);var b=C(c);function c(a,d){var e,f=arguments.length>2&& void 0!==arguments[2]?arguments[2]:3e3;return t(this,c),(e=b.call(this,f)).handlePollRequest=d,e.captureMetrics=a,e}return v(c,[{key:"enqueue",value:function(a,b,c){this.captureMetrics.incr("batch-enqueue"),this._event_queue.push({url:a,data:b,options:c}),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var a=this;clearTimeout(this._poller),this._poller=setTimeout(function(){if(a._event_queue.length>0){var b=a.formatQueue(),c=function(c){var d=b[c],e=d.url,f=d.data,g=d.options;ae.each(f,function(b,c){f[c].offset=Math.abs(f[c].timestamp-a.getTime()),delete f[c].timestamp}),a.handlePollRequest(e,f,g),a.captureMetrics.incr("batch-requests"),a.captureMetrics.incr("batch-requests-".concat(e.slice(e.length-2))),a.captureMetrics.incr("batch-handle",f.length),a.captureMetrics.incr("batch-handle-".concat(e.slice(e.length-2)),f.length)};for(var d in b)c(d);a._event_queue.length=0,a._empty_queue_count=0}else a._empty_queue_count++;a._empty_queue_count>4&&(a.isPolling=!1,a._empty_queue_count=0),a.isPolling&&a.poll()},this._pollInterval)}},{key:"updateUnloadMetrics",value:function(){var a=this.formatQueue();for(var b in a){var c=a[b],d=c.url,e=c.data;this.captureMetrics.incr("batch-unload-requests"),this.captureMetrics.incr("batch-unload-requests-".concat(d.slice(d.length-2))),this.captureMetrics.incr("batch-unload",e.length),this.captureMetrics.incr("batch-unload-".concat(d.slice(d.length-2)),e.length)}}},{key:"unload",value:function(){clearTimeout(this._poller);var a=this._event_queue.length>0?this.formatQueue():{};for(var b in this._event_queue.length=0,a){var c=a[b],d=c.url,e=c.data,f=c.options;this.handlePollRequest(d,e,y(y({},f),{},{transport:"sendbeacon"}))}}},{key:"formatQueue",value:function(){var a={};return ae.each(this._event_queue,function(b){var c=b.url,d=b.data,e=b.options,f=(e?e._batchKey:null)||c;void 0===a[f]&&(a[f]={data:[],url:c,options:e}),e&&a[f].options&&a[f].options._metrics&&!a[f].options._metrics.rrweb_full_snapshot&&(a[f].options._metrics.rrweb_full_snapshot=e._metrics.rrweb_full_snapshot),a[f].data.push(d)}),a}}]),c}(a7),a9=function(){function a(b){t(this,a),this.enabled=b,this.metrics={}}return v(a,[{key:"incr",value:function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:1;this.enabled&&(a="phjs-".concat(a),this.metrics[a]=(this.metrics[a]||0)+b)}},{key:"decr",value:function(a){this.enabled&&(a="phjs-".concat(a),this.metrics[a]=(this.metrics[a]||0)-1)}}]),a}(),ba=Uint8Array,bb=Uint16Array,bc=Uint32Array,bd=new ba([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),be=new ba([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bf=new ba([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bg=function(a,b){for(var c=new bb(31),d=0;d<31;++d)c[d]=b+=1<<a[d-1];for(var e=new bc(c[30]),d=1;d<30;++d)for(var f=c[d];f<c[d+1];++f)e[f]=f-c[d]<<5|d;return[c,e]},bh=bg(bd,2),bi=bh[0],bj=bh[1];bi[28]=258,bj[258]=28;for(var bk=bg(be,0),bl=bk[1],bm=new bb(32768),bn=0;bn<32768;++bn){var bo=(43690&bn)>>>1|(21845&bn)<<1;bo=(61680&(bo=(52428&bo)>>>2|(13107&bo)<<2))>>>4|(3855&bo)<<4,bm[bn]=((65280&bo)>>>8|(255&bo)<<8)>>>1}for(var bp=function(a,b,c){for(var d,e=a.length,f=0,g=new bb(b);f<e;++f)++g[a[f]-1];var h=new bb(b);for(f=0;f<b;++f)h[f]=h[f-1]+g[f-1]<<1;if(c){d=new bb(1<<b);var i=15-b;for(f=0;f<e;++f)if(a[f])for(var j=f<<4|a[f],k=b-a[f],l=(h[a[f]-1]++)<<k,m=l|(1<<k)-1;l<=m;++l)d[bm[l]>>>i]=j}else for(f=0,d=new bb(e);f<e;++f)d[f]=bm[h[a[f]-1]++]>>>15-a[f];return d},bq=new ba(288),bn=0;bn<144;++bn)bq[bn]=8;for(var bn=144;bn<256;++bn)bq[bn]=9;for(var bn=256;bn<280;++bn)bq[bn]=7;for(var bn=280;bn<288;++bn)bq[bn]=8;for(var br=new ba(32),bn=0;bn<32;++bn)br[bn]=5;var bs=bp(bq,9,0),bt=bp(br,5,0),bu=function(a){return(a/8>>0)+(7&a&&1)},bv=function(a,b,c){(null==b||b<0)&&(b=0),(null==c||c>a.length)&&(c=a.length);var d=new(a instanceof bb?bb:a instanceof bc?bc:ba)(c-b);return d.set(a.subarray(b,c)),d},bw=function(a,b,c){c<<=7&b;var d=b/8>>0;a[d]|=c,a[d+1]|=c>>>8},bx=function(a,b,c){c<<=7&b;var d=b/8>>0;a[d]|=c,a[d+1]|=c>>>8,a[d+2]|=c>>>16},by=function(a,b){for(var c=[],d=0;d<a.length;++d)a[d]&&c.push({s:d,f:a[d]});var e=c.length,f=c.slice();if(!e)return[new ba(0),0];if(1==e){var g=new ba(c[0].s+1);return g[c[0].s]=1,[g,1]}c.sort(function(a,b){return a.f-b.f}),c.push({s:-1,f:25001});var h=c[0],i=c[1],j=0,k=1,l=2;for(c[0]={s:-1,f:h.f+i.f,l:h,r:i};k!=e-1;)h=c[c[j].f<c[l].f?j++:l++],i=c[j!=k&&c[j].f<c[l].f?j++:l++],c[k++]={s:-1,f:h.f+i.f,l:h,r:i};for(var m=f[0].s,d=1;d<e;++d)f[d].s>m&&(m=f[d].s);var n=new bb(m+1),o=bz(c[k-1],n,0);if(o>b){var d=0,p=0,q=o-b,r=1<<q;for(f.sort(function(a,b){return n[b.s]-n[a.s]||a.f-b.f});d<e;++d){var s=f[d].s;if(n[s]>b)p+=r-(1<<o-n[s]),n[s]=b;else break}for(p>>>=q;p>0;){var t=f[d].s;n[t]<b?p-=1<<b-n[t]++-1:++d}for(;d>=0&&p;--d){var u=f[d].s;n[u]==b&&(--n[u],++p)}o=b}return[new ba(n),o]},bz=function a(b,c,d){return -1==b.s?Math.max(a(b.l,c,d+1),a(b.r,c,d+1)):c[b.s]=d},bA=function(a){for(var b=a.length;b&&!a[--b];);for(var c=new bb(++b),d=0,e=a[0],f=1,g=function(a){c[d++]=a},h=1;h<=b;++h)if(a[h]==e&&h!=b)++f;else{if(!e&&f>2){for(;f>138;f-=138)g(32754);f>2&&(g(f>10?f-11<<5|28690:f-3<<5|12305),f=0)}else if(f>3){for(g(e),--f;f>6;f-=6)g(8304);f>2&&(g(f-3<<5|8208),f=0)}for(;f--;)g(e);f=1,e=a[h]}return[c.subarray(0,d),b]},bB=function(a,b){for(var c=0,d=0;d<b.length;++d)c+=a[d]*b[d];return c},bC=function(a,b,c){var d=c.length,e=bu(b+2);a[e]=255&d,a[e+1]=d>>>8,a[e+2]=255^a[e],a[e+3]=255^a[e+1];for(var f=0;f<d;++f)a[e+f+4]=c[f];return(e+4+d)*8},bD=function(a,b,c,d,e,f,g,h,i,j,k){bw(b,k++,c),++e[256];for(var l,m,n,o,p=by(e,15),q=p[0],r=p[1],s=by(f,15),t=s[0],u=s[1],v=bA(q),w=v[0],x=v[1],y=bA(t),z=y[0],A=y[1],B=new bb(19),C=0;C<w.length;++C)B[31&w[C]]++;for(var C=0;C<z.length;++C)B[31&z[C]]++;for(var D=by(B,7),E=D[0],F=D[1],G=19;G>4&&!E[bf[G-1]];--G);var H=j+5<<3,I=bB(e,bq)+bB(f,br)+g,J=bB(e,q)+bB(f,t)+g+14+3*G+bB(B,E)+(2*B[16]+3*B[17]+7*B[18]);if(H<=I&&H<=J)return bC(b,k,a.subarray(i,i+j));if(bw(b,k,1+(J<I)),k+=2,J<I){l=bp(q,r,0),m=q,n=bp(t,u,0),o=t;var K=bp(E,F,0);bw(b,k,x-257),bw(b,k+5,A-1),bw(b,k+10,G-4),k+=14;for(var C=0;C<G;++C)bw(b,k+3*C,E[bf[C]]);k+=3*G;for(var L=[w,z],M=0;M<2;++M)for(var N=L[M],C=0;C<N.length;++C){var O=31&N[C];bw(b,k,K[O]),k+=E[O],O>15&&(bw(b,k,N[C]>>>5&127),k+=N[C]>>>12)}}else l=bs,m=bq,n=bt,o=br;for(var C=0;C<h;++C)if(d[C]>255){var O=d[C]>>>18&31;bx(b,k,l[O+257]),k+=m[O+257],O>7&&(bw(b,k,d[C]>>>23&31),k+=bd[O]);var P=31&d[C];bx(b,k,n[P]),k+=o[P],P>3&&(bx(b,k,d[C]>>>5&8191),k+=be[P])}else bx(b,k,l[d[C]]),k+=m[d[C]];return bx(b,k,l[256]),k+m[256]},bE=new bc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bF=new ba(0),bG=function(a,b,c,d,e,f){var g=a.length,h=new ba(d+g+5*(1+Math.floor(g/7e3))+e),i=h.subarray(d,h.length-e),j=0;if(!b||g<8)for(var k=0;k<=g;k+=65535){var l=k+65535;l<g?j=bC(i,j,a.subarray(k,l)):(i[k]=f,j=bC(i,j,a.subarray(k,g)))}else{for(var m=bE[b-1],n=m>>>13,o=8191&m,p=(1<<c)-1,q=new bb(32768),r=new bb(p+1),s=Math.ceil(c/3),t=2*s,u=function(b){return(a[b]^a[b+1]<<s^a[b+2]<<t)&p},v=new bc(25e3),w=new bb(288),x=new bb(32),y=0,z=0,k=0,A=0,B=0,C=0;k<g;++k){var D=u(k),E=32767&k,F=r[D];if(q[E]=F,r[D]=E,B<=k){var G=g-k;if((y>7e3||A>24576)&&G>423){j=bD(a,i,0,v,w,x,z,A,C,k-C,j),A=y=z=0,C=k;for(var H=0;H<286;++H)w[H]=0;for(var H=0;H<30;++H)x[H]=0}var I=2,J=0,K=o,L=E-F&32767;if(G>2&&D==u(k-L))for(var M=Math.min(n,G)-1,N=Math.min(32767,k),O=Math.min(258,G);L<=N&& --K&&E!=F;){if(a[k+I]==a[k+I-L]){for(var P=0;P<O&&a[k+P]==a[k+P-L];++P);if(P>I){if(I=P,J=L,P>M)break;for(var Q=Math.min(L,P-2),R=0,H=0;H<Q;++H){var S=k-L+H+32768&32767,T=q[S],U=S-T+32768&32767;U>R&&(R=U,F=S)}}}F=q[E=F],L+=E-F+32768&32767}if(J){v[A++]=268435456|bj[I]<<18|bl[J];var V=31&bj[I],W=31&bl[J];z+=bd[V]+be[W],++w[257+V],++x[W],B=k+I,++y}else v[A++]=a[k],++w[a[k]]}}j=bD(a,i,f,v,w,x,z,A,C,k-C,j),f||(j=bC(i,j,bF))}return bv(h,0,d+bu(j)+e)},bH=function(){for(var a=new bc(256),b=0;b<256;++b){for(var c=b,d=9;--d;)c=(1&c&&3988292384)^c>>>1;a[b]=c}return a}(),bI=function(){var a=4294967295;return{p:function(b){for(var c=a,d=0;d<b.length;++d)c=bH[255&c^b[d]]^c>>>8;a=c},d:function(){return 4294967295^a}}},bJ=function(a,b,c){for(;c;++b)a[b]=c,c>>>=8},bK=function(a,b){var c=b.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=b.level<2?4:9==b.level?2:0,a[9]=3,0!=b.mtime&&bJ(a,4,Math.floor(new Date(b.mtime||Date.now())/1e3)),c){a[3]=8;for(var d=0;d<=c.length;++d)a[d+10]=c.charCodeAt(d)}},bL=function(a,b,c){var d=b||{};d.ip=c.ip?1:0,d["_"]=new Date().getTime().toString(),d.ver=Q.LIB_VERSION;var e=a.split("?");if(e.length>1){var f,g=J(e[1].split("&"));try{for(g.s();!(f=g.n()).done;){var h=f.value.split("=")[0];d[h]&&delete d[h]}}catch(i){g.e(i)}finally{g.f()}}var j=a.indexOf("?")> -1?"&":"?";return a+j+ae.HTTPBuildQuery(d)},bM=function a(b,c){if(c.blob&&b.buffer)return new Blob([b.buffer],{type:"text/plain"});if(c.sendBeacon||c.blob){var d,e,f=a(b,{method:"POST"});return new Blob([f],{type:"application/x-www-form-urlencoded"})}return"POST"!==c.method?null:(e=Array.isArray(b)||(d=b,"[object Uint8Array]"===Object.prototype.toString.call(d))?"data="+encodeURIComponent(b):"data="+encodeURIComponent(b.data),b.compression&&(e+="&compression="+b.compression),e)},bN=function(a){var b=a.url,c=a.data,d=a.headers,e=a.options,f=a.captureMetrics,g=a.callback,h=a.retriesPerformedSoFar,i=a.retryQueue,j=a.onXHRError,k=new XMLHttpRequest;k.open(e.method,b,!0);var l=bM(c,e);f.incr("_send_request"),f.incr("_send_request_inflight"),ae.each(d,function(a,b){k.setRequestHeader(b,a)}),"POST"!==e.method||e.blob||k.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),k.withCredentials=!0,k.onreadystatechange=function(){if(4===k.readyState){if(f.incr("xhr-response"),f.incr("xhr-response-".concat(k.status)),f.decr("_send_request_inflight"),200===k.status){if(g){var a;try{a=JSON.parse(k.responseText)}catch(l){af.error(l);return}g(a)}}else"function"==typeof j&&j(k),0>[401,403,404,500].indexOf(k.status)&&i.enqueue({url:b,data:c,options:e,headers:d,retriesPerformedSoFar:(h||0)+1,callback:g}),g&&(e.verbose?g({status:0,error:error}):g(0))}},k.send(l)},bO=function(a){z(c,a);var b=C(c);function c(a,d){var e;return t(this,c),(e=b.call(this)).captureMetrics=a,e.isPolling=!1,e.queue=[],e.areWeOnline=!0,e.onXHRError=d,"onLine"in window.navigator&&(e.areWeOnline=window.navigator.onLine,window.addEventListener("online",function(){e._handleWeAreNowOnline()}),window.addEventListener("offline",function(){e.areWeOnline=!1})),e}return v(c,[{key:"enqueue",value:function(a){var b=a.retriesPerformedSoFar||0;if(!(b>=10)){var c=3e3*Math.pow(2,b),d=new Date(Date.now()+c);console.warn("Enqueued failed request for retry in ".concat(c)),this.queue.push({retryAt:d,requestData:a}),this.isPolling||(this.isPolling=!0,this.poll())}}},{key:"poll",value:function(){var a=this;clearTimeout(this._poller),this._poller=setTimeout(function(){a.areWeOnline&&a.queue.length>0&&a.flush(),a.poll()},this._pollInterval)}},{key:"flush",value:function(){var a=new Date(Date.now()),b=this.queue.filter(function(b){return b.retryAt<a});if(b.length>0){this.queue=this.queue.filter(function(b){return b.retryAt>=a});var c,d=J(b);try{for(d.s();!(c=d.n()).done;){var e=c.value.requestData;this._executeXhrRequest(e)}}catch(f){d.e(f)}finally{d.f()}}}},{key:"unload",value:function(){clearTimeout(this._poller);var a,b=J(this.queue);try{for(b.s();!(a=b.n()).done;){var c=a.value.requestData,d=c.url,e=c.data,f=c.options;try{window.navigator.sendBeacon(d,bM(e,y(y({},f),{},{sendBeacon:!0})))}catch(g){this.get_config("debug")&&console.error(g)}}}catch(h){b.e(h)}finally{b.f()}this.queue=[]}},{key:"_executeXhrRequest",value:function(a){var b=a.url,c=a.data,d=a.options,e=a.headers,f=a.callback,g=a.retriesPerformedSoFar;bN({url:b,data:c||{},options:d||{},headers:e||{},retriesPerformedSoFar:g||0,callback:f,captureMetrics:this.captureMetrics,retryQueue:this,onXHRError:this.onXHRError})}},{key:"_handleWeAreNowOnline",value:function(){this.areWeOnline=!0,this.flush()}}]),c}(a7),bP=function(){function a(b,c){t(this,a),this.persistence=c,b.persistence_name?this.window_id_storage_key="ph_"+b.persistence_name+"_window_id":this.window_id_storage_key="ph_"+b.token+"_window_id"}return v(a,[{key:"_setWindowId",value:function(a){a!==this.windowId&&(this.windowId=a,!this.persistence.disabled&&aE.is_supported()&&aE.set(this.window_id_storage_key,a))}},{key:"_getWindowId",value:function(){return this.windowId?this.windowId:!this.persistence.disabled&&aE.is_supported()?aE.parse(this.window_id_storage_key):null}},{key:"_setSessionId",value:function(a,b){(a!==this.sessionId||b!==this.timestamp)&&(this.timestamp=b,this.sessionId=a,this.persistence.register(w({},aZ,[b,a])))}},{key:"_getSessionId",value:function(){return this.sessionId&&this.timestamp?[this.timestamp,this.sessionId]:this.persistence.props[aZ]||[0,null]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null)}},{key:"getSessionAndWindowId",value:function(){var a,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null,c=arguments.length>1&& void 0!==arguments[1]&&arguments[1],d=!(c&&c.type===a1&&(null===(a=c.data)|| void 0===a?void 0:a.source)===a2);b=b||new Date().getTime();var e=D(this._getSessionId(),2),f=e[0],g=e[1],h=this._getWindowId();!g||d&&Math.abs(b-f)>18e5?(g=ae.UUID(),h=ae.UUID()):h||(h=ae.UUID());var i=0===f||d?b:f;return this._setWindowId(h),this._setSessionId(g,i),{sessionId:g,windowId:h}}}]),a}();function bQ(a){return Number(a)===a&&a%1!=0}function bR(a){try{var b;return(b=JSON.parse(JSON.stringify(X.performance.getEntriesByType(a)))).forEach(function(a,c){for(var d in a)bQ(a[d])&&a[d].toString().match(/^\d+\.\d{4,}$/)&&(b[c][d]=Number(a[d].toFixed(3))),["serverTiming","workerTiming"].includes(d)&&0===a[d].length&&delete b[c][d],"entryType"===d&&"resource"===a[d]&&delete b[c][d],"nextHopProtocol"===d&&delete b[c][d],0===a[d]&&delete b[c][d]}),bS(b)}catch(c){return Q.DEBUG&&console.warn("not able to capture performance data ("+a+") - "+c),[]}}function bS(a){if(0===a.length)return[];var b=Object.keys(a[0]);return[b,a.map(function(a){return b.map(function(b){return a[b]})})]}var bT=function(){},bU={},bV="posthog",bW=X.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,bX=!bW&& -1===$.indexOf("MSIE")&& -1===$.indexOf("Mozilla"),bY=function(){},bZ=function(a,b,c){var f,g=c===bV?e:e[c];if(g&&0===d)f=g;else{if(g&&!ae.isArray(g)){console.error("You have already initialized "+c);return}f=new bY}if(f._init(a,b,c),f.people=new aS,f.people._init(f),f.featureFlags=new aU(f),f.feature_flags=f.featureFlags,f.toolbar=new a6(f),f.toolbar.maybeLoadEditor(),f.sessionRecording=new a4(f),f.sessionRecording.startRecordingIfEnabled(),f["__autocapture_enabled"]=f.get_config("autocapture"),f.get_config("autocapture")){var h=100,i=100;aw.enabledForProject(f.get_config("token"),h,i)?aw.isBrowserSupported()?aw.init(f):(f["__autocapture_enabled"]=!1,af.log("Disabling Automatic Event Collection because this browser is not supported")):(f["__autocapture_enabled"]=!1,af.log("Not in active bucket: disabling Automatic Event Collection."))}return Q.DEBUG=Q.DEBUG||f.get_config("debug"),!ae.isUndefined(g)&&ae.isArray(g)&&(f._execute_array.call(f.people,g.people),f._execute_array(g)),f};bY.prototype.init=function(a,b,c){if(ae.isUndefined(c)){console.error("You must name your new library: init(token, config, name)");return}if(c===bV){console.error("You must initialize the main posthog object right after you include the PostHog js snippet");return}var d=bZ(a,b,c);return e[c]=d,d._loaded(),d},bY.prototype._init=function(a,b,c){this["__loaded"]=!0,this.config={},this["_triggered_notifs"]=[],this.compression={},this.set_config(ae.extend({},{api_host:"https://app.posthog.com",api_method:"POST",api_transport:"XHR",autocapture:!0,rageclick:!1,cross_subdomain_cookie:-1===Z.location.hostname.indexOf("herokuapp.com"),persistence:"cookie",persistence_name:"",cookie_name:"",loaded:function(){},store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,capture_pageview:!0,debug:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_cookie:!1,enable_recording_console_log:!1,secure_cookie:"https:"===X.location.protocol,ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,property_blacklist:[],sanitize_properties:null,xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{blockClass:"ph-no-capture",blockSelector:null,ignoreClass:"ph-ignore-input",maskAllInputs:!1,maskInputOptions:{},maskInputFn:null,slimDOMOptions:{},collectFonts:!1},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_toolbar_metrics:!1,on_xhr_error:function(a){var b="Bad HTTP status: "+a.status+" "+a.statusText;console.error(b)},_onCapture:function(){},_capture_metrics:!1,_capture_performance:!1},b,{name:c,token:a,callback_fn:(c===bV?c:bV+"."+c)+"._jsc"})),this["_jsc"]=function(){},this._captureMetrics=new a9(this.get_config("_capture_metrics")),this._requestQueue=new a8(this._captureMetrics,ae.bind(this._handle_queued_event,this)),this._retryQueue=new bO(this._captureMetrics,this.get_config("on_xhr_error")),this.__captureHooks=[],this.__request_queue=[],this.persistence=new a0(this.config),this.sessionManager=new bP(this.config,this.persistence),this._gdpr_init();var d=ae.UUID();this.get_distinct_id()||this.register_once({distinct_id:d,$device_id:d},""),X.addEventListener&&X.addEventListener("unload",this._handle_unload.bind(this))},bY.prototype._loaded=function(){this.featureFlags.setReloadingPaused(!0);try{this.get_config("loaded")(this)}catch(a){console.error("`loaded` function failed",a)}this._start_queue_if_opted_in(),this.get_config("capture_pageview")&&this.capture("$pageview",{},{send_instantly:!0}),this.get_config("advanced_disable_decide")||new a5(this).call(),this.featureFlags.resetRequestQueue(),this.featureFlags.setReloadingPaused(!1)},bY.prototype._start_queue_if_opted_in=function(){!this.has_opted_out_capturing()&&this.get_config("request_batching")&&this._requestQueue.poll()},bY.prototype._dom_loaded=function(){this.has_opted_out_capturing()||ae.each(this.__request_queue,function(a){this._send_request.apply(this,a)},this),delete this.__request_queue,this._start_queue_if_opted_in()},bY.prototype._prepare_callback=function(a,b){if(ae.isUndefined(a))return null;if(bW)return function(c){a(c,b)};var c=this["_jsc"],d=""+Math.floor(1e8*Math.random()),e=this.get_config("callback_fn")+"["+d+"]";return c[d]=function(e){delete c[d],a(e,b)},e},bY.prototype._handle_unload=function(){if(!this.get_config("request_batching")){this.get_config("capture_pageview")&&this.capture("$pageleave",null,{transport:"sendbeacon"});return}this.get_config("capture_pageview")&&this.capture("$pageleave"),this.get_config("_capture_metrics")&&(this._requestQueue.updateUnloadMetrics(),this.capture("$capture_metrics",this._captureMetrics.metrics)),this._requestQueue.unload(),this._retryQueue.unload()},bY.prototype._handle_queued_event=function(a,b,c){var d=JSON.stringify(b);this.__compress_and_send_json_request(a,d,c||bU,bT)},bY.prototype.__compress_and_send_json_request=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=(e=(s=this.compression)["gzip-js"]?"gzip-js":s.lz64?"lz64":"base64",f=b,g=c,"lz64"===e?[{data:P.compressToBase64(f),compression:"lz64"},g]:"gzip-js"!==e?[{data:ae.base64Encode(f)},g]:[(h=function(a,b){var c=a.length;if(!b&&"undefined"!=typeof TextEncoder)return new TextEncoder().encode(a);for(var d=new ba(a.length+(a.length>>>1)),e=0,f=function(a){d[e++]=a},g=0;g<c;++g){if(e+5>d.length){var h=new ba(e+8+(c-g<<1));h.set(d),d=h}var i=a.charCodeAt(g);i<128||b?f(i):i<2048?(f(192|i>>>6),f(128|63&i)):i>55295&&i<57344?(f(240|(i=65536+(1047552&i)|1023&a.charCodeAt(++g))>>>18),f(128|i>>>12&63),f(128|i>>>6&63),f(128|63&i)):(f(224|i>>>12),f(128|i>>>6&63),f(128|63&i))}return bv(d,0,e)}(f),i={mtime:0},j=bI(),k=h.length,j.p(h),r=(q=(m=h,n=i,o=10+((l=i).filename&&l.filename.length+1||0),bG(m,null==n.level?6:n.level,null==n.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(m.length)))):12+n.mem,o,8,!0))).length,bK(q,i),bJ(q,r-8,j.d()),bJ(q,r-4,k),q),y(y({},g),{},{blob:!0,urlQueryArgs:{compression:"gzip-js"}})]),u=D(t,2),v=u[0],w=u[1];this._send_request(a,v,w,d)},bY.prototype._send_request=function(a,b,c,d){if(bX){this.__request_queue.push(arguments);return}var e={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")};c=ae.extend(e,c||{}),bW||(c.method="GET");var f=X.navigator.sendBeacon&&"sendbeacon"===c.transport.toLowerCase();if(a=bL(a,c.urlQueryArgs,{ip:this.get_config("ip")}),ae.isObject(b)&&this.get_config("img")){var g=Z.createElement("img");g.src=a,Z.body.appendChild(g)}else if(f)try{X.navigator.sendBeacon(a,bM(b,y(y({},c),{},{sendBeacon:!0})))}catch(h){this.get_config("debug")&&console.error(h)}else if(bW)try{bN({url:a,data:b,headers:this.get_config("xhr_headers"),options:c,captureMetrics:this._captureMetrics,callback:d,retriesPerformedSoFar:0,retryQueue:this._retryQueue,onXHRError:this.get_config("on_xhr_error")})}catch(i){console.error(i)}else{var j=Z.createElement("script");j.type="text/javascript",j.async=!0,j.defer=!0,j.src=a;var k=Z.getElementsByTagName("script")[0];k.parentNode.insertBefore(j,k)}},bY.prototype._execute_array=function(a){var b,c=[],d=[],e=[];ae.each(a,function(a){a&&(b=a[0],ae.isArray(b)?e.push(a):"function"==typeof a?a.call(this):ae.isArray(a)&&"alias"===b?c.push(a):ae.isArray(a)&& -1!==b.indexOf("capture")&&"function"==typeof this[b]?e.push(a):d.push(a))},this);var f=function(a,b){ae.each(a,function(a){if(ae.isArray(a[0])){var c=b;ae.each(a,function(a){c=c[a[0]].apply(c,a.slice(1))})}else this[a[0]].apply(this,a.slice(1))},b)};f(c,this),f(d,this),f(e,this)},bY.prototype.push=function(a){this._execute_array([a])},bY.prototype.capture=function(a,b){return aQ(a,function(a){return this.get_config(a)},void 0)}(function(a,b,c){if(this["__loaded"]){this._captureMetrics.incr("capture"),"$snapshot"===a&&this._captureMetrics.incr("snapshot");var d=(c=c||bU).transport;if(d&&(c.transport=d),ae.isUndefined(a)||"string"!=typeof a){console.error("No event name provided to posthog.capture");return}if(!ae.isBlockedUA($)){var e=this.persistence.remove_event_timer(a);this.persistence.update_search_keyword(Z.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(Z.referrer);var f={event:a,properties:this._calculate_event_properties(a,b,e)};"$identify"===a&&c.$set&&(f.$set=c.$set),f=ae.copyAndTruncateStrings(f,c._noTruncate?null:this.get_config("properties_string_max_length")),this.get_config("debug")&&af.log("PostHog.js send",f);var g=JSON.stringify(f),h=this.get_config("api_host")+(c.endpoint||"/e/"),i=c!==bU;return this.get_config("request_batching")&&(!i||c._batchKey)&&!c.send_instantly?(f.timestamp=new Date,this._requestQueue.enqueue(h,f,c)):this.__compress_and_send_json_request(h,g,c),this._invokeCaptureHooks(a,f),f}}}),bY.prototype._addCaptureHook=function(a){this.__captureHooks.push(a)},bY.prototype._invokeCaptureHooks=function(a,b){this.config._onCapture(a,b),ae.each(this.__captureHooks,function(b){return b(a)})},bY.prototype._calculate_event_properties=function(a,b,c){var d,e,f,g=y({},b);if(g.token=this.get_config("token"),"$snapshot"===a){var h=this.persistence.properties();return g.distinct_id=h.distinct_id,g}if(!ae.isUndefined(c)){var i=new Date().getTime()-c;g.$duration=parseFloat((i/1e3).toFixed(3))}if(this.sessionManager){var j=this.sessionManager.getSessionAndWindowId(),k=j.sessionId,l=j.windowId;g["$session_id"]=k,g["$window_id"]=l}g=ae.extend({},ae.info.properties(),this.persistence.properties(),g),"$pageview"===a&&this.get_config("_capture_performance")&&(g=ae.extend(g,(d={navigation:bR("navigation"),paint:bR("paint"),resource:bR("resource")},void 0!==s(X)&&X.performance&&X.performance.clearResourceTimings&&X.performance.clearResourceTimings(),e={},(f=function(a){var b=a.navigation&&a.navigation[0],c=a.navigation&&a.navigation[1]&&a.navigation[1][0],d=b&&b.indexOf("duration");if(d> -1)return c[d];var e=b&&b.indexOf("loadEventEnd"),f=b&&b.indexOf("startTime");if(e> -1){var g=c&&c[e],h=c&&c[f]||0;return g-h}}(d))&&(e["$performance_page_loaded"]=f),e["$performance_raw"]=JSON.stringify(d),e)));var m=this.get_config("property_blacklist");ae.isArray(m)?ae.each(m,function(a){delete g[a]}):console.error("Invalid value for property_blacklist config: "+m);var n=this.get_config("sanitize_properties");return n&&(g=n(g,a)),g},bY.prototype.register=function(a,b){this.persistence.register(a,b)},bY.prototype.register_once=function(a,b,c){this.persistence.register_once(a,b,c)},bY.prototype.unregister=function(a){this.persistence.unregister(a)},bY.prototype._register_single=function(a,b){var c={};c[a]=b,this.register(c)},bY.prototype.getFeatureFlag=function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};return this.featureFlags.getFeatureFlag(a,b)},bY.prototype.isFeatureEnabled=function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};return this.featureFlags.isFeatureEnabled(a,b)},bY.prototype.reloadFeatureFlags=function(){return this.featureFlags.reloadFeatureFlags()},bY.prototype.onFeatureFlags=function(a){this.featureFlags.onFeatureFlags(a)},bY.prototype.identify=function(a,b,c){if(!a){console.error("Unique user id has not been set in posthog.identify");return}this._captureMetrics.incr("identify");var d=this.get_distinct_id();if(this.register({$user_id:a}),!this.get_property("$device_id")){var e=d;this.register_once({$had_persisted_distinct_id:!0,$device_id:e},"")}a!==d&&a!==this.get_property(aW)&&(this.unregister(aW),this.register({distinct_id:a})),a===d||this.get_property("$device_id")&&d!==this.get_property("$device_id")?(b&&this.people.set(b),c&&this.people.set_once(c)):this.capture("$identify",{distinct_id:a,$anon_distinct_id:d},{$set:b||{}},{$set_once:c||{}}),a!==d&&this.reloadFeatureFlags()},bY.prototype.group=function(a,b,c){if(!a||!b){console.error("posthog.group requires a group type and group key");return}this._captureMetrics.incr("group");var d=this.getGroups();this.register({$groups:y(y({},d),{},w({},a,b))}),c&&this.capture("$groupidentify",{$group_type:a,$group_key:b,$group_set:c}),d[a]!==b&&this.reloadFeatureFlags()},bY.prototype.reset=function(a){var b=this.get_property("$device_id");this.persistence.clear();var c=ae.UUID();this.register_once({distinct_id:c,$device_id:a?c:b},"")},bY.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},bY.prototype.getGroups=function(){return this.get_property("$groups")||{}},bY.prototype.alias=function(a,b){if(a===this.get_property(aV))return console.critical("Attempting to create alias for existing People user - aborting."),-2;var c=this;return(ae.isUndefined(b)&&(b=this.get_distinct_id()),a!==b)?(this._register_single(aW,a),this.capture("$create_alias",{alias:a,distinct_id:b},function(){c.identify(a)})):(console.error("alias matches current distinct_id - skipping api call."),this.identify(a),-1)},bY.prototype.set_config=function(a){var b=y({},this.config);ae.isObject(a)&&(ae.extend(this.config,a),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),aA.is_supported()&&"true"===aA.get("ph_debug")&&(this.config.debug=!0),Q.DEBUG=Q.DEBUG||this.get_config("debug"),this.sessionRecording&& void 0!==a.disable_session_recording&&b.disable_session_recording!==a.disable_session_recording&&(a.disable_session_recording?this.sessionRecording.stopRecording():this.sessionRecording.startRecordingIfEnabled()))},bY.prototype.startSessionRecording=function(){this.set_config({disable_session_recording:!1})},bY.prototype.stopSessionRecording=function(){this.set_config({disable_session_recording:!0})},bY.prototype.sessionRecordingStarted=function(){return this.sessionRecording.started()},bY.prototype.get_config=function(a){return this.config[a]},bY.prototype.get_property=function(a){return this.persistence.props[a]},bY.prototype.toString=function(){var a=this.get_config("name");return a!==bV&&(a=bV+"."+a),a},bY.prototype._gdpr_init=function(){"localStorage"===this.get_config("opt_out_capturing_persistence_type")&&aA.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_capturing()&&(this.get_config("opt_out_capturing_by_default")||ay.get("ph_optout"))&&(ay.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.get_config("opt_out_persistence_by_default")}))},bY.prototype._gdpr_update_persistence=function(a){var b;if(a&&a.clear_persistence)b=!0;else{if(!a||!a.enable_persistence)return;b=!1}this.get_config("disable_persistence")||this.persistence.disabled===b||this.persistence.set_disabled(b)},bY.prototype._gdpr_call_func=function(a,b){return b=ae.extend({capture:ae.bind(this.capture,this),persistence_type:this.get_config("opt_out_capturing_persistence_type"),cookie_prefix:this.get_config("opt_out_capturing_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),secure_cookie:this.get_config("secure_cookie")},b),aA.is_supported()||"localStorage"!==b.persistence_type||(b.persistence_type="cookie"),a(this.get_config("token"),{capture:b.capture,captureEventName:b.capture_event_name,captureProperties:b.capture_properties,persistenceType:b.persistence_type,persistencePrefix:b.cookie_prefix,cookieExpiration:b.cookie_expiration,crossSubdomainCookie:b.cross_subdomain_cookie,secureCookie:b.secure_cookie})},bY.prototype.opt_in_capturing=function(a){a=ae.extend({enable_persistence:!0},a),this._gdpr_call_func(aF,a),this._gdpr_update_persistence(a)},bY.prototype.opt_out_capturing=function(a){a=ae.extend({clear_persistence:!0},a),this._gdpr_call_func(aG,a),this._gdpr_update_persistence(a)},bY.prototype.has_opted_in_capturing=function(a){return this._gdpr_call_func(aH,a)},bY.prototype.has_opted_out_capturing=function(a){return this._gdpr_call_func(aI,a)},bY.prototype.clear_opt_in_out_capturing=function(a){a=ae.extend({enable_persistence:!0},a),this._gdpr_call_func(aK,a),this._gdpr_update_persistence(a)},bY.prototype.sentry_integration=function(a,b,c,d){this.name="posthog-js",this.setupOnce=function(e){e(function(e){if("error"!==e.level||!a.__loaded)return e;e.tags||(e.tags={}),e.tags["PostHog URL"]=a.config.api_host+"/person/"+a.get_distinct_id();var f={$sentry_event_id:e.event_id,$sentry_exception:e.exception};return b&&c&&(f["$sentry_url"]=(d||"https://sentry.io/organizations/")+b+"/issues/?project="+c+"&query="+e.event_id),a.capture("$exception",f),e})}},bY.prototype.debug=function(a){!1===a?(X.console.log("You've disabled debug mode."),localStorage&&localStorage.setItem("ph_debug",void 0),this.set_config({debug:!1})):(X.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))},bY.prototype.decodeLZ64=P.decompressFromBase64,bY.prototype.init=bY.prototype.init,bY.prototype.reset=bY.prototype.reset,bY.prototype.capture=bY.prototype.capture,bY.prototype.register=bY.prototype.register,bY.prototype.register_once=bY.prototype.register_once,bY.prototype.unregister=bY.prototype.unregister,bY.prototype.identify=bY.prototype.identify,bY.prototype.getGroups=bY.prototype.getGroups,bY.prototype.group=bY.prototype.group,bY.prototype.alias=bY.prototype.alias,bY.prototype.set_config=bY.prototype.set_config,bY.prototype.get_config=bY.prototype.get_config,bY.prototype.get_property=bY.prototype.get_property,bY.prototype.get_distinct_id=bY.prototype.get_distinct_id,bY.prototype.toString=bY.prototype.toString,bY.prototype.opt_out_captureing=bY.prototype.opt_out_captureing,bY.prototype.opt_in_captureing=bY.prototype.opt_in_captureing,bY.prototype.has_opted_out_captureing=bY.prototype.has_opted_out_captureing,bY.prototype.has_opted_in_captureing=bY.prototype.has_opted_in_captureing,bY.prototype.clear_opt_in_out_captureing=bY.prototype.clear_opt_in_out_captureing,bY.prototype.opt_out_capturing=bY.prototype.opt_out_capturing,bY.prototype.opt_in_capturing=bY.prototype.opt_in_capturing,bY.prototype.has_opted_out_capturing=bY.prototype.has_opted_out_capturing,bY.prototype.has_opted_in_capturing=bY.prototype.has_opted_in_capturing,bY.prototype.clear_opt_in_out_capturing=bY.prototype.clear_opt_in_out_capturing,bY.prototype.getFeatureFlag=bY.prototype.getFeatureFlag,bY.prototype.isFeatureEnabled=bY.prototype.isFeatureEnabled,bY.prototype.reloadFeatureFlags=bY.prototype.reloadFeatureFlags,bY.prototype.onFeatureFlags=bY.prototype.onFeatureFlags,bY.prototype.decodeLZ64=bY.prototype.decodeLZ64,bY.prototype.SentryIntegration=bY.prototype.sentry_integration,bY.prototype.debug=bY.prototype.debug,bY.prototype.LIB_VERSION=Q.LIB_VERSION,bY.prototype.startSessionRecording=bY.prototype.startSessionRecording,bY.prototype.stopSessionRecording=bY.prototype.stopSessionRecording,bY.prototype.sessionRecordingStarted=bY.prototype.sessionRecordingStarted,a0.prototype.properties=a0.prototype.properties,a0.prototype.update_search_keyword=a0.prototype.update_search_keyword,a0.prototype.update_referrer_info=a0.prototype.update_referrer_info,a0.prototype.get_cross_subdomain=a0.prototype.get_cross_subdomain,a0.prototype.clear=a0.prototype.clear,ae.safewrap_class(bY,["identify"]);var b$={},b_=function(){ae.each(b$,function(a,b){b!==bV&&(e[b]=a)}),e["_"]=ae},b0=(d=0,(e=new bY).init=function(a,b,c){if(c)return e[c]||(e[c]=b$[c]=bZ(a,b,c),e[c]._loaded()),e[c];var f=e;b$[bV]?f=b$[bV]:a&&((f=bZ(a,b,bV))._loaded(),b$[bV]=f),e=f,1===d&&(X[bV]=e),b_()},e.init(),function(){function a(){!a.done&&(a.done=!0,bX=!1,ae.each(b$,function(a){a._dom_loaded()}))}function b(){try{Z.documentElement.doScroll("left")}catch(c){setTimeout(b,1);return}a()}if(Z.addEventListener)"complete"===Z.readyState?a():Z.addEventListener("DOMContentLoaded",a,!1);else if(Z.attachEvent){Z.attachEvent("onreadystatechange",a);var c=!1;try{c=null===X.frameElement}catch(d){}Z.documentElement.doScroll&&c&&b()}ae.register_event(X,"load",a,!0)}(),e),b1=c(90);function b2(a){var b=a.Component,c=a.pageProps,d=(0,r.useRouter)();return h.useEffect(function(){var a=function(){b1.gr&&m(),b1.px&&b0.capture("$pageview")};return b1.gr&&l(b1.gr,b1.GH),b1.px&&b0.init(b1.px,b1.kX),d.events.on("routeChangeComplete",a),function(){d.events.off("routeChangeComplete",a)}},[d.events]),(0,g.jsx)(b,(0,f.Z)({},c))}b1.sk||console.log("\n\n              \n         \n                      \n                   \n                       \n                           \n                                                                                               \n   This site is built using Notion, Next.js, and https://github.com/NotionX/react-notion-x.\n")},7604:function(){},1804:function(){},5560:function(){},7284:function(){},4722:function(){},6766:function(){},7663:function(a){!function(){var b={308:function(a){var b,c,d,e=a.exports={};function f(){throw Error("setTimeout has not been defined")}function g(){throw Error("clearTimeout has not been defined")}function h(a){if(b===setTimeout)return setTimeout(a,0);if((b===f||!b)&&setTimeout)return b=setTimeout,setTimeout(a,0);try{return b(a,0)}catch(c){try{return b.call(null,a,0)}catch(d){return b.call(this,a,0)}}}!function(){try{b="function"==typeof setTimeout?setTimeout:f}catch(a){b=f}try{c="function"==typeof clearTimeout?clearTimeout:g}catch(d){c=g}}();var i=[],j=!1,k=-1;function l(){j&&d&&(j=!1,d.length?i=d.concat(i):k=-1,i.length&&m())}function m(){if(!j){var a=h(l);j=!0;for(var b=i.length;b;){for(d=i,i=[];++k<b;)d&&d[k].run();k=-1,b=i.length}d=null,j=!1,function(a){if(c===clearTimeout)return clearTimeout(a);if((c===g||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(a);try{c(a)}catch(b){try{return c.call(null,a)}catch(d){return c.call(this,a)}}}(a)}}function n(a,b){this.fun=a,this.array=b}function o(){}e.nextTick=function(a){var b=Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new n(a,b)),1!==i.length||j||h(m)},n.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=o,e.addListener=o,e.once=o,e.off=o,e.removeListener=o,e.removeAllListeners=o,e.emit=o,e.prependListener=o,e.prependOnceListener=o,e.listeners=function(a){return[]},e.binding=function(a){throw Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(a){throw Error("process.chdir is not supported")},e.umask=function(){return 0}}},c={};function d(a){var e=c[a];if(void 0!==e)return e.exports;var f=c[a]={exports:{}},g=!0;try{b[a](f,f.exports,d),g=!1}finally{g&&delete c[a]}return f.exports}d.ab="//";var e=d(308);a.exports=e}()},1163:function(a,b,c){a.exports=c(387)},4924:function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}c.d(b,{Z:function(){return d}})},6042:function(a,b,c){"use strict";c.d(b,{Z:function(){return e}});var d=c(4924);function e(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},e=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),e.forEach(function(b){(0,d.Z)(a,b,c[b])})}return a}},9396:function(a,b,c){"use strict";function d(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}c.d(b,{Z:function(){return d}})},2362:function(a,b,c){"use strict";c.d(b,{zM:function(){return P},Hp:function(){return Q},p6:function(){return A},c8:function(){return B},c5:function(){return s},Ck:function(){return G},cj:function(){return H},Ho:function(){return u},Fz:function(){return r},Sp:function(){return L},Co:function(){return M},Kl:function(){return N},rp:function(){return I},Ru:function(){return w},FB:function(){return t},D5:function(){return R},q5:function(){return F},Gw:function(){return K}});let d=(a,b,c,d)=>{if("length"===c||"prototype"===c||"arguments"===c||"caller"===c)return;let f=Object.getOwnPropertyDescriptor(a,c),g=Object.getOwnPropertyDescriptor(b,c);(e(f,g)||!d)&&Object.defineProperty(a,c,g)},e=function(a,b){return void 0===a||a.configurable||a.writable===b.writable&&a.enumerable===b.enumerable&&a.configurable===b.configurable&&(a.writable||a.value===b.value)},f=(a,b)=>{let c=Object.getPrototypeOf(b);c!==Object.getPrototypeOf(a)&&Object.setPrototypeOf(a,c)},g=(a,b)=>`/* Wrapped ${a}*/
${b}`,h=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),i=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),j=(a,b,c)=>{let d=""===c?"":`with ${c.trim()}() `,e=g.bind(null,d,b.toString());Object.defineProperty(e,"name",i);let{writable:f,enumerable:j,configurable:k}=h;Object.defineProperty(a,"toString",{value:e,writable:f,enumerable:j,configurable:k})},k=new WeakMap,l=new WeakMap,m=new WeakMap,n=(a,b)=>b.some(b=>b instanceof RegExp?b.test(a):b===a),o=new Set(["https:","http:","file:",]),p=a=>{try{let{protocol:b}=new URL(a);return b.endsWith(":")&&!b.includes(".")&&!o.has(b)}catch{return!1}},q=(a,{stripHash:b})=>{let c=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(a);if(!c)throw Error(`Invalid URL: ${a}`);let{type:d,data:e,hash:f}=c.groups,g=d.split(";"),h="base64"===g.at(-1);h&&g.pop();let i=g.shift()?.toLowerCase()??"",j=g.map(a=>{let[b,c=""]=a.split("=").map(a=>a.trim());return"charset"===b&&"us-ascii"===(c=c.toLowerCase())?"":`${b}${c?`=${c}`:""}`}).filter(Boolean),k=[...j];h&&k.push("base64"),(k.length>0||i&&"text/plain"!==i)&&k.unshift(i);let l=b||!f?"":`#${f}`;return`data:${k.join(";")},${h?e.trim():e}${l}`};function r(a){return a?a.value?r(a.value):a.id?a:void 0:void 0}function s(a,b){var c,d,e,f,g,h;let i=a.collection_id||(null==(d=null==(c=a.format)?void 0:c.collection_pointer)?void 0:d.id);if(i)return i;let j=null==(e=null==a?void 0:a.view_ids)?void 0:e[0];if(j){let k=r(null==(f=b.collection_view)?void 0:f[j]);if(k){let l=null==(h=null==(g=k.format)?void 0:g.collection_pointer)?void 0:h.id;return l}}return null}var t=a=>{var b;return a?Array.isArray(a)?null!=(b=null==a?void 0:a.reduce((a,b)=>a+(""!==b[0]&&""!==b[0]?b[0]:""),""))?b:"":a:""};function u(a,b){var c;if(null==(c=a.properties)?void 0:c.title)return t(a.properties.title);if("collection_view_page"===a.type||"collection_view"===a.type){let d=s(a,b);if(d){let e=r(b.collection[d]);if(e)return t(e.name)}}return""}var v={header:0,sub_header:1,sub_sub_header:2},w=(a,b)=>{function c(a){return(null!=a?a:[]).map(a=>{var d;let e=r(b.block[a]);if(e){let{type:f}=e;if("header"===f||"sub_header"===f||"sub_sub_header"===f)return{id:a,type:f,text:t(null==(d=e.properties)?void 0:d.title),indentLevel:v[f]};if("transclusion_container"===f||"column_list"===f||"column"===f)return c(e.content)}return null})}function d(a){return a.flatMap(a=>null==a?[]:Array.isArray(a)?d(a):[a])}let e=d(c(a.content)),f=[{actual:-1,effective:-1}];for(let g of e){let{indentLevel:h}=g,i=h;for(;;){let j=f.at(-1),{actual:k,effective:l}=j;if(i>k)g.indentLevel=l+1,f.push({actual:i,effective:g.indentLevel});else if(i===k){g.indentLevel=l;break}else f.pop()}}return e};function x(a,b){var c,d;let e={numWords:0,numImages:0};if(!a)return e;for(let f of a.content||[]){let g=r(b.block[f]),h=!1;if(g){switch(g.type){case"quote":case"alias":case"header":case"sub_header":case"sub_sub_header":{let i=u(g,b);e.numWords+=z(i);break}case"callout":case"toggle":case"to_do":case"bulleted_list":case"numbered_list":case"text":{let j=u(g,b);e.numWords+=z(j),h=!0;break}case"embed":case"tweet":case"maps":case"pdf":case"figma":case"typeform":case"codepen":case"excalidraw":case"gist":case"video":case"drive":case"audio":case"file":case"image":e.numImages+=1;break;case"bookmark":e.numImages+=.25;break;case"code":case"table":case"collection_view":e.numImages+=2;break;case"column":case"column_list":case"transclusion_container":h=!0;break;case"table_of_contents":{let k=a;if(!k)continue;let l=w(k,b);for(let m of l)e.numWords+=z(m.text);break}case"transclusion_reference":{let n=null==(d=null==(c=null==g?void 0:g.format)?void 0:c.transclusion_reference_pointer)?void 0:d.id;if(!n)continue;let o=r(b.block[n]);o&&y(e,x(o,b))}}h&&y(e,x(g,b))}}return e}function y(a,b){a.numWords+=b.numWords,a.numImages+=b.numImages}function z(a){return a?(a.match(/\w+/g)||[]).length:0}var A=(a,{month:b="short"}={})=>{let c=new Date(a),d=c.toLocaleString("en-US",{month:b});return`${d} ${c.getUTCDate()}, ${c.getUTCFullYear()}`},B=a=>{let b=`${a.start_date}T${a.start_time||"00:00"}+00:00`;return A(b)},C=(a="")=>`${a.slice(0,8)}-${a.slice(8,12)}-${a.slice(12,16)}-${a.slice(16,20)}-${a.slice(20)}`,D=/\b([\da-f]{32})\b/,E=/\b([\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12})\b/,F=(a="",{uuid:b=!0}={})=>{if(!a||!(a=a.split("?")[0]))return;let c=a.match(D);if(c)return b?C(c[1]):c[1];let d=a.match(E);if(d)return b?d[1]:d[1].replaceAll("-","")};function G(a,b){var c,d;if(null==(c=a.format)?void 0:c.page_icon)return null==(d=a.format)?void 0:d.page_icon;if("collection_view_page"===a.type||"collection_view"===a.type){let e=s(a,b);if(e){let f=r(b.collection[e]);if(f)return f.icon}}return null}var H=(a,b,{inclusive:c=!1}={})=>{let d=a;for(;d;){if(c&&(null==d?void 0:d.type)==="page")return d;let e=d.parent_id,f=d.parent_table;if(!e)break;if("collection"===f)d=r(b.collection[e]);else if((null==(d=r(b.block[e]))?void 0:d.type)==="page")return d}return null};function I(a,b,c){try{if(!b.properties||!Object.keys(c.collection))return null;let d=r(c.collection[b.parent_id]);if(d){let e=a.toLowerCase(),f=Object.keys(d.schema).find(a=>{var b,c;return(null==(c=null==(b=d.schema[a])?void 0:b.name)?void 0:c.toLowerCase())===e});if(!f)return null;let g=d.schema[f];if(!g)return null;let{type:h}=g,i=t(b.properties[f]);switch(h){case"created_time":return b.created_time;case"multi_select":return i.split(",");case"date":{let j=b.properties[f],k=j[0][1][0][1];if("datetime"===k.type)return new Date(`${k.start_date} ${k.start_time}`).getTime();if("date"===k.type)return new Date(k.start_date).getTime();if("datetimerange"===k.type){let{start_date:l,start_time:m,end_date:n,end_time:o}=k,p=new Date(`${l} ${m}`).getTime(),q=new Date(`${n} ${o}`).getTime();return[p,q]}else{let s=new Date(k.start_date).getTime(),u=new Date(k.end_date).getTime();return[s,u]}}case"checkbox":return"Yes"===i;case"last_edited_time":return b.last_edited_time;default:return i}}}catch(v){}return null}var J=a=>(a||"").replaceAll(" ","-").replaceAll(/[^\dA-Za-z\u3000-\u303F\u3041-\u3096\u30A1-\u30FC\u4E00-\u9FFF\uAC00-\uD7AF-]/g,"").replaceAll("--","-").replace(/-$/,"").replace(/^-/,"").trim().toLowerCase(),K=a=>a.replaceAll("-",""),L=(a,b,{uuid:c=!0}={})=>{if(!a||!b)return null;let d=K(a),e=r(b.block[a]);if(e){let f=I("slug",e,b)||I("Slug",e,b)||J(u(e,b));if(f)return c?`${f}-${d}`:f}return d},M=a=>{if(a&&Array.isArray(a)){if("d"===a[0])return a[1];for(let b of a){let c=M(b);if(c)return c}}return null},N=(a,b)=>{let c=a.block,d=[],e=b;for(;;){let f=r(c[e]);if(!f)break;let g=u(f,a),h=G(f,a);if(!(g||h))break;d.push({block:f,active:e===b,pageId:e,title:g,icon:h});let i=H(f,a),j=null==i?void 0:i.id;if(!j)break;e=j}return d.reverse(),d},O=/(?:https?:\/\/)?[^\s]+\.gif(?=$|\?|#)/,P=(a,b)=>{if(!a)return;if(a.startsWith("data:")||O.test(a)||a.startsWith("https://images.unsplash.com"))return a;try{let c=new URL(a);if(c.pathname.startsWith("/secure.notion-static.com")&&c.hostname.endsWith(".amazonaws.com")&&c.searchParams.has("X-Amz-Credential")&&c.searchParams.has("X-Amz-Signature")&&c.searchParams.has("X-Amz-Algorithm")||"img.notionusercontent.com"===c.hostname)return a}catch(d){}a.startsWith("/images")&&(a=`https://www.notion.so${a}`),a=`https://www.notion.so${a.startsWith("/image")?a:`/image/${encodeURIComponent(a)}`}`;let e=new URL(a),f="space"===b.parent_table?"block":b.parent_table;return("collection"===f||"team"===f)&&(f="block"),e.searchParams.set("table",f),e.searchParams.set("id",b.id),e.searchParams.set("cache","v2"),a=e.toString()},Q=a=>b=>(b=(b||"").replaceAll("-",""),a&&b===a)?"/":`/${b}`,R=function a(b,{cacheKey:c,cache:e=new Map,maxAge:g}={}){if(0===g)return b;if("number"==typeof g&&Number.isFinite(g)){if(g>2147483647)throw TypeError("The `maxAge` option cannot exceed 2147483647.");if(g<0)throw TypeError("The `maxAge` option should not be a negative number.")}let h=function(...a){let d=c?c(a):a[0],f=function a(b,c){let d=b.get(c);if(d){if(d.maxAge<=Date.now()){b.delete(c);return}return d}}(e,d);if(f)return f.data;let i=b.apply(this,a),j="function"==typeof g?g(...a):g;if(void 0!==j&&j!==Number.POSITIVE_INFINITY){if(!Number.isFinite(j))throw TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(j<=0)return i;if(j>2147483647)throw TypeError("The `maxAge` function result cannot exceed 2147483647.")}if(e.set(d,{data:i,maxAge:void 0===j||j===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+j}),void 0!==j&&j!==Number.POSITIVE_INFINITY){let k=setTimeout(()=>{e.delete(d),l.get(h)?.delete(k)},j);k.unref?.();let m=l.get(h)??new Set;m.add(k),l.set(h,m)}return i};return!function(a,b,{ignoreNonConfigurable:c=!1}={}){let{name:e}=a;for(let g of Reflect.ownKeys(b))d(a,b,g,c);return f(a,b),j(a,b,e),a}(h,b,{ignoreNonConfigurable:!0}),k.set(h,e),m.set(h,c??(a=>a[0])),h}(a=>{if(!a)return"";try{if(a.startsWith("https://www.notion.so/image/")){let b=new URL(a),c=decodeURIComponent(b.pathname.slice(7)),d=R(c);b.pathname=`/image/${encodeURIComponent(d)}`,a=b.toString()}return function(a,b){if("string"!=typeof(b={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,removePath:!1,transformPath:!1,...b}).defaultProtocol||b.defaultProtocol.endsWith(":")||(b.defaultProtocol=`${b.defaultProtocol}:`),a=a.trim(),/^data:/i.test(a))return q(a,b);if(p(a))return a;let c=a.startsWith("//"),d=!c&&/^\.*\//.test(a);d||(a=a.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,b.defaultProtocol));let e=new URL(a);if(b.forceHttp&&b.forceHttps)throw Error("The `forceHttp` and `forceHttps` options cannot be used together");if(b.forceHttp&&"https:"===e.protocol&&(e.protocol="http:"),b.forceHttps&&"http:"===e.protocol&&(e.protocol="https:"),b.stripAuthentication&&(e.username="",e.password=""),b.stripHash?e.hash="":b.stripTextFragment&&(e.hash=e.hash.replace(/#?:~:text.*?$/i,"")),e.pathname){let f=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,g=0,h="";for(;;){let i=f.exec(e.pathname);if(!i)break;let j=i[0],k=i.index,l=e.pathname.slice(g,k);h+=l.replace(/\/{2,}/g,"/"),h+=j,g=k+j.length}let m=e.pathname.slice(g,e.pathname.length);h+=m.replace(/\/{2,}/g,"/"),e.pathname=h}if(e.pathname)try{e.pathname=decodeURI(e.pathname).replace(/\\/g,"%5C")}catch{}if(!0===b.removeDirectoryIndex&&(b.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(b.removeDirectoryIndex)&&b.removeDirectoryIndex.length>0){let o=e.pathname.split("/").filter(Boolean),r=o.at(-1);r&&n(r,b.removeDirectoryIndex)&&(o.pop(),e.pathname=o.length>0?`/${o.join("/")}/`:"/")}if(b.removePath&&(e.pathname="/"),b.transformPath&&"function"==typeof b.transformPath){let s=e.pathname.split("/").filter(Boolean),t=b.transformPath(s);e.pathname=t?.length>0?`/${t.join("/")}`:"/"}if(e.hostname&&(e.hostname=e.hostname.replace(/\.$/,""),b.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(e.hostname)&&(e.hostname=e.hostname.replace(/^www\./,""))),Array.isArray(b.removeQueryParameters))for(let u of[...e.searchParams.keys()])n(u,b.removeQueryParameters)&&e.searchParams.delete(u);if(Array.isArray(b.keepQueryParameters)|| !0!==b.removeQueryParameters||(e.search=""),Array.isArray(b.keepQueryParameters)&&b.keepQueryParameters.length>0)for(let v of[...e.searchParams.keys()])n(v,b.keepQueryParameters)||e.searchParams.delete(v);if(b.sortQueryParameters){let w=e.search;e.searchParams.sort();try{e.search=decodeURIComponent(e.search)}catch{}let x=w.slice(1).split("&").filter(a=>a&&!a.includes("="));for(let y of x){let z=decodeURIComponent(y);e.search=e.search.replace(`?${z}=`,`?${z}`).replace(`&${z}=`,`&${z}`)}}b.removeTrailingSlash&&(e.pathname=e.pathname.replace(/\/$/,"")),b.removeExplicitPort&&e.port&&(e.port="");let A=a;return a=e.toString(),b.removeSingleSlash||"/"!==e.pathname||A.endsWith("/")||""!==e.hash||(a=a.replace(/\/$/,"")),(b.removeTrailingSlash||"/"===e.pathname)&&""===e.hash&&b.removeSingleSlash&&(a=a.replace(/\/$/,"")),c&&!b.normalizeProtocol&&(a=a.replace(/^http:\/\//,"//")),b.stripProtocol&&(a=a.replace(/^(?:https?:)?\/\//,"")),a}(a,{stripProtocol:!0,stripWWW:!0,stripHash:!0,stripTextFragment:!0,removeQueryParameters:!0})}catch(e){return""}})}},function(a){var b=function(b){return a(a.s=b)};a.O(0,[9774,179],function(){return b(6840),b(387)}),_N_E=a.O()}])